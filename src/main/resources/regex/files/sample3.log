2017-11-28 10:32:16,340 DEBUG main org.apache.commons.configuration.ConfigurationUtils - ConfigurationUtils.locate(): base is null, name is transformer.properties
2017-11-28 10:32:16,356 DEBUG main org.apache.commons.configuration.DefaultFileSystem - Could not locate file transformer.properties at null: no protocol: transformer.properties
2017-11-28 10:32:16,356 DEBUG main org.apache.commons.configuration.ConfigurationUtils - Loading configuration from the context classpath (transformer.properties)
2017-11-28 10:32:16,356 DEBUG main org.apache.commons.configuration.PropertiesConfiguration - Base path set to file:///C:/JavaProjects/com.vocalink.transformer-java/transformer-platform-payport/transformer-server-payport/target/work/webapp/WEB-INF/classes/transformer.properties
2017-11-28 10:32:16,403 INFO main com.vocalink.ips.transformer.util.config.ClasspathConfigProvider - GWTR0009 Loaded properties from: C:\JavaProjects\com.vocalink.transformer-java\transformer-platform-payport\transformer-server-payport\target\work\webapp\WEB-INF\classes\transformer.properties
2017-11-28 10:32:16,403 DEBUG main org.apache.commons.configuration.ConfigurationUtils - ConfigurationUtils.locate(): base is null, name is transformer.default.properties
2017-11-28 10:32:16,403 DEBUG main org.apache.commons.configuration.DefaultFileSystem - Could not locate file transformer.default.properties at null: no protocol: transformer.default.properties
2017-11-28 10:32:16,418 DEBUG main org.apache.commons.configuration.ConfigurationUtils - Loading configuration from the context classpath (transformer.default.properties)
2017-11-28 10:32:16,418 DEBUG main org.apache.commons.configuration.PropertiesConfiguration - Base path set to file:///C:/JavaProjects/com.vocalink.transformer-java/transformer-platform-payport/transformer-server-payport/target/work/webapp/WEB-INF/classes/transformer.default.properties
2017-11-28 10:32:16,418 INFO main com.vocalink.ips.transformer.util.config.ClasspathConfigProvider - GWTR0009 Loaded properties from: C:\JavaProjects\com.vocalink.transformer-java\transformer-platform-payport\transformer-server-payport\target\work\webapp\WEB-INF\classes\transformer.default.properties
2017-11-28 10:32:16,918 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0003 Starting the application...
2017-11-28 10:32:16,918 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0004 Setting request/response protocol...
2017-11-28 10:32:16,933 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServer - With socket protocol: [com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol]
2017-11-28 10:32:16,933 DEBUG main org.apache.commons.configuration.ConfigurationUtils - ConfigurationUtils.locate(): base is null, name is transformer.properties
2017-11-28 10:32:16,933 DEBUG main org.apache.commons.configuration.DefaultFileSystem - Could not locate file transformer.properties at null: no protocol: transformer.properties
2017-11-28 10:32:16,933 DEBUG main org.apache.commons.configuration.ConfigurationUtils - Loading configuration from the context classpath (transformer.properties)
2017-11-28 10:32:16,933 DEBUG main org.apache.commons.configuration.PropertiesConfiguration - Base path set to file:///C:/JavaProjects/com.vocalink.transformer-java/transformer-platform-payport/transformer-server-payport/target/work/webapp/WEB-INF/classes/transformer.properties
2017-11-28 10:32:16,949 INFO main com.vocalink.ips.transformer.util.config.ClasspathConfigProvider - GWTR0009 Loaded properties from: C:\JavaProjects\com.vocalink.transformer-java\transformer-platform-payport\transformer-server-payport\target\work\webapp\WEB-INF\classes\transformer.properties
2017-11-28 10:32:19,707 DEBUG main com.vocalink.ips.transformation.impl.iso20022.Iso20022XmlSchemaValidationProvider - metadata/iso20022/xsd/messages.xsd
2017-11-28 10:32:20,801 DEBUG main com.vocalink.ips.transformation.impl.iso20022.Iso20022XmlSchemaValidationProvider - metadata/iso20022/xsd/messages.xsd
2017-11-28 10:32:20,942 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - Protocol set to com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol (latency: 0ms)
2017-11-28 10:32:20,942 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketFactory$Builder - Server socket backlog: %s
2017-11-28 10:32:20,942 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketFactory$Builder - Socket timeout: %s
2017-11-28 10:32:20,942 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketFactory$Builder - Server socket keep-alive: %s
2017-11-28 10:32:20,943 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0005 Starting request handler...
2017-11-28 10:32:20,943 DEBUG main com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler - Request handler pool set up with 50 threads.
2017-11-28 10:32:20,949 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0006 Starting request listeners...
2017-11-28 10:32:22,007 INFO Shutdown com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0002 Application has been shot down.
2017-11-28 10:32:22,022 DEBUG Shutdown com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler - Shutting down the shared request handler.
2017-11-28 10:32:22,022 DEBUG Shutdown com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler - Shutting down thread-pooled request handlers.
2017-11-28 10:32:22,022 INFO Shutdown com.vocalink.ips.transformer.servlet.SocketServerRegistrarServlet - GWTR0002 Application has been shot down.
2017-11-28 15:49:11,348 DEBUG main org.apache.commons.configuration.ConfigurationUtils - ConfigurationUtils.locate(): base is null, name is transformer.properties
2017-11-28 15:49:11,364 DEBUG main org.apache.commons.configuration.DefaultFileSystem - Could not locate file transformer.properties at null: no protocol: transformer.properties
2017-11-28 15:49:11,364 DEBUG main org.apache.commons.configuration.ConfigurationUtils - Loading configuration from the context classpath (transformer.properties)
2017-11-28 15:49:11,364 DEBUG main org.apache.commons.configuration.PropertiesConfiguration - Base path set to file:///C:/JavaProjects/com.vocalink.transformer-java/transformer-platform-payport/transformer-server-payport/target/work/webapp/WEB-INF/classes/transformer.properties
2017-11-28 15:49:11,395 INFO main com.vocalink.ips.transformer.util.config.ClasspathConfigProvider - GWTR0009 Loaded properties from: C:\JavaProjects\com.vocalink.transformer-java\transformer-platform-payport\transformer-server-payport\target\work\webapp\WEB-INF\classes\transformer.properties
2017-11-28 15:49:11,395 DEBUG main org.apache.commons.configuration.ConfigurationUtils - ConfigurationUtils.locate(): base is null, name is transformer.default.properties
2017-11-28 15:49:11,395 DEBUG main org.apache.commons.configuration.DefaultFileSystem - Could not locate file transformer.default.properties at null: no protocol: transformer.default.properties
2017-11-28 15:49:11,395 DEBUG main org.apache.commons.configuration.ConfigurationUtils - Loading configuration from the context classpath (transformer.default.properties)
2017-11-28 15:49:11,395 DEBUG main org.apache.commons.configuration.PropertiesConfiguration - Base path set to file:///C:/JavaProjects/com.vocalink.transformer-java/transformer-platform-payport/transformer-server-payport/target/work/webapp/WEB-INF/classes/transformer.default.properties
2017-11-28 15:49:11,395 INFO main com.vocalink.ips.transformer.util.config.ClasspathConfigProvider - GWTR0009 Loaded properties from: C:\JavaProjects\com.vocalink.transformer-java\transformer-platform-payport\transformer-server-payport\target\work\webapp\WEB-INF\classes\transformer.default.properties
2017-11-28 15:49:11,457 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0003 Starting the application...
2017-11-28 15:49:11,457 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0004 Setting request/response protocol...
2017-11-28 15:49:11,473 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServer - With socket protocol: [com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol]
2017-11-28 15:49:11,473 DEBUG main org.apache.commons.configuration.ConfigurationUtils - ConfigurationUtils.locate(): base is null, name is transformer.properties
2017-11-28 15:49:11,473 DEBUG main org.apache.commons.configuration.DefaultFileSystem - Could not locate file transformer.properties at null: no protocol: transformer.properties
2017-11-28 15:49:11,473 DEBUG main org.apache.commons.configuration.ConfigurationUtils - Loading configuration from the context classpath (transformer.properties)
2017-11-28 15:49:11,473 DEBUG main org.apache.commons.configuration.PropertiesConfiguration - Base path set to file:///C:/JavaProjects/com.vocalink.transformer-java/transformer-platform-payport/transformer-server-payport/target/work/webapp/WEB-INF/classes/transformer.properties
2017-11-28 15:49:11,473 INFO main com.vocalink.ips.transformer.util.config.ClasspathConfigProvider - GWTR0009 Loaded properties from: C:\JavaProjects\com.vocalink.transformer-java\transformer-platform-payport\transformer-server-payport\target\work\webapp\WEB-INF\classes\transformer.properties
2017-11-28 15:49:14,274 DEBUG main com.vocalink.ips.transformation.impl.iso20022.Iso20022XmlSchemaValidationProvider - metadata/iso20022/xsd/messages.xsd
2017-11-28 15:49:15,564 DEBUG main com.vocalink.ips.transformation.impl.iso20022.Iso20022XmlSchemaValidationProvider - metadata/iso20022/xsd/messages.xsd
2017-11-28 15:49:15,735 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - Protocol set to com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol (latency: 0ms)
2017-11-28 15:49:15,735 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketFactory$Builder - Server socket backlog: %s
2017-11-28 15:49:15,735 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketFactory$Builder - Socket timeout: %s
2017-11-28 15:49:15,735 DEBUG main com.vocalink.ips.transformer.channel.socket.server.SocketFactory$Builder - Server socket keep-alive: %s
2017-11-28 15:49:15,735 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0005 Starting request handler...
2017-11-28 15:49:15,751 DEBUG main com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler - Request handler pool set up with 50 threads.
2017-11-28 15:49:15,751 INFO main com.vocalink.ips.transformer.channel.socket.server.SocketServerAbstract - GWTR0006 Starting request listeners...
2017-11-28 15:49:34,508 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9804], ['functionCode', 731], ['additionalInfo', [[''iso20022MsgId'', 980420140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['msgid', TR00201BFF00000001]]]]
2017-11-28 15:49:34,555 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9804, functionCode=731, additionalInfo=[[''iso20022MsgId'', [B@bfd9b2f], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], msgid=TR00201BFF00000001}
2017-11-28 15:49:34,804 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>TR00201BFF00000001</TxId></EchoTxInf></echo.001.001.01>
2017-11-28 15:49:34,804 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6fc435d3
2017-11-28 15:49:34,804 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>TR00201BFF00000001</TxId></EchoTxInf></echo.001.001.01>, [['logmessage', <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>TR00201BFF00000001</TxId></EchoTxInf></echo.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:34,835 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:36,761 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9804], ['functionCode', 731], ['additionalInfo', [[''iso20022MsgId'', 980420140807122001123456]]], ['msgid', TR00201BFF00000001]]]]
2017-11-28 15:49:36,761 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9804, functionCode=731, additionalInfo=[[''iso20022MsgId'', [B@5c17582b]], msgid=TR00201BFF00000001}
2017-11-28 15:49:36,761 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:36</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>TR00201BFF00000001</TxId></EchoTxInf></echo.001.001.01>
2017-11-28 15:49:36,761 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7e5664cb
2017-11-28 15:49:36,761 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:36</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>TR00201BFF00000001</TxId></EchoTxInf></echo.001.001.01>, [['logmessage', <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:36</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>TR00201BFF00000001</TxId></EchoTxInf></echo.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:36,777 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:36,824 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9804], ['additionalInfo', [[''iso20022MsgId'', 980420140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['msgid', 00201BFF0000000001]]]]
2017-11-28 15:49:36,824 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9804, additionalInfo=[[''iso20022MsgId'', [B@37ebe28b], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], msgid=00201BFF0000000001}
2017-11-28 15:49:36,824 ERROR Thread-40 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [functionCode] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:36,839 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:36,839 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:36,839 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:36,839 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:36,902 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9804], ['functionCode', 731], ['additionalInfo', [[''iso20022MsgId'', 980420140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['msgid', 190201BFF0000000001]]]]
2017-11-28 15:49:36,902 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9804, functionCode=731, additionalInfo=[[''iso20022MsgId'', [B@fabdeae], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], msgid=190201BFF0000000001}
2017-11-28 15:49:36,902 ERROR Thread-48 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - XML file generated by transformer failed xsd validation. : <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>190201BFF0000000001</TxId></EchoTxInf></echo.001.001.01>
2017-11-28 15:49:36,902 ERROR Thread-48 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 177; cvc-maxLength-valid: Value '190201BFF0000000001' with length = '19' is not facet-valid with respect to maxLength '18' for type 'Max18Text'.:XML file generated by transformer failed xsd validation. : <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>190201BFF0000000001</TxId></EchoTxInf></echo.001.001.01>
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.validateXSD(AbstractIpsMessageToIso20022MessageTransformer.java:161)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:89)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:36,902 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:36,902 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:36,902 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', <echo.001.001.01><GrpHdr><MsgId>980420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><EchoTxInf><FnctnCd>731</FnctnCd><TxId>190201BFF0000000001</TxId></EchoTxInf></echo.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:36,917 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:36,949 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9804], ['functionCode', 731], ['additionalInfo', [[''iso20022MsgId'', 980420140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:36,949 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9804, functionCode=731, additionalInfo=[[''iso20022MsgId'', [B@6501e8f6], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:36,949 ERROR Thread-54 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [msgid] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:36,949 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:36,949 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:36,949 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:36,980 DEBUG Thread-54 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:37,167 TRACE Thread-35 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 971], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['seqno', 123456], ['newStatus', 00], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:37,167 TRACE Thread-35 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=971, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['seqno', [B@101fb31f], ['newStatus', [B@78f1e446], ['iso20022MsgId', [B@2a2723f5], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:37,183 TRACE Thread-35 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:37,183 TRACE Thread-35 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6671ae75
2017-11-28 15:49:37,183 TRACE Thread-35 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:37,214 DEBUG Thread-35 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:37,573 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 971], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['seqno', 123456], ['newStatus', 00], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:37,573 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=971, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['seqno', [B@1066578f], ['newStatus', [B@765683a8], ['iso20022MsgId', [B@3b6bd195], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:37,573 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:37,573 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@648fcd32
2017-11-28 15:49:37,573 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:37,588 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:37,651 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 971], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['seqno', 123456], ['newStatus', 00], ['iso20022MsgId', 982420140807122001123456]]]]]]
2017-11-28 15:49:37,651 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=971, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['seqno', [B@6bc9dba4], ['newStatus', [B@73daa78b], ['iso20022MsgId', [B@1c7003ed]]}
2017-11-28 15:49:37,666 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:37</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:37,666 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@72d640aa
2017-11-28 15:49:37,666 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:37</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:37</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>971</FnctnCd><SrvcSt>00</SrvcSt></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:37,666 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:37,760 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 971], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:37,760 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=971, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['seqno', [B@40512b10], ['iso20022MsgId', [B@115ec31a], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:37,760 ERROR Thread-48 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [newStatus] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:37,760 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:37,760 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:37,760 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:37,776 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:37,885 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 971], ['generationDateAndTime', 2015-11-12T16:45:00], ['evtParam', [['seqno', 123456], ['newStatus', 00], ['iso20022MsgId', 982420140807122001123456]]], ['additionalInfo', [['iso20022CreateDateTime', 2015-11-12T16:45:00]]]]]]
2017-11-28 15:49:37,900 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=971, generationDateAndTime=2015-11-12T16:45:00, evtParam=[['seqno', [B@5dcf7a1b], ['newStatus', [B@53088fd2], ['iso20022MsgId', [B@5737116b]], additionalInfo=[['iso20022CreateDateTime', [B@123585e9]]}
2017-11-28 15:49:37,900 ERROR Thread-56 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <Value of canonical format must be of an Instant type, but was class java.lang.String> for field generationDateAndTime,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:37,900 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:37,900 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:37,900 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:37,900 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,021 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 971], ['generationDateAndTime', 2015-11-12T16:45:00], ['evtParam', [['seqno', 123456], ['newStatus', 00], ['iso20022MsgId', 982420140807122001123456]]], ['additionalInfo', [['iso20022CreateDateTime', 2015-11-12T16:45:00]]]]]]
2017-11-28 15:49:38,021 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=971, generationDateAndTime=2015-11-12T16:45:00, evtParam=[['seqno', [B@401f5bef], ['newStatus', [B@4ed8ad9c], ['iso20022MsgId', [B@4ae7309f]], additionalInfo=[['iso20022CreateDateTime', [B@fe5a7a7]]}
2017-11-28 15:49:38,021 ERROR Thread-45 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <Value of canonical format must be of an Instant type, but was class java.lang.String> for field generationDateAndTime,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,021 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:38,021 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:38,021 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:38,021 DEBUG Thread-45 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,205 TRACE Thread-55 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 972], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['seqno', 123456], ['previousDefaultStatus', 00], ['paygrpavl', 10], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['newDefaultStatus', 00], ['instname', 11]]]]]]
2017-11-28 15:49:38,205 TRACE Thread-55 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=972, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@66766a2d], ['seqno', [B@396eac3b], ['previousDefaultStatus', [B@37c4c6a3], ['paygrpavl', [B@3b5be238], ['iso20022MsgId', [B@6ea9d07c], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['newDefaultStatus', [B@226aa6e6], ['instname', [B@338a9dd6]]}
2017-11-28 15:49:38,236 TRACE Thread-55 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt><PrvSt>00</PrvSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:38,236 TRACE Thread-55 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7a30bdf8
2017-11-28 15:49:38,236 TRACE Thread-55 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt><PrvSt>00</PrvSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt><PrvSt>00</PrvSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:38,236 DEBUG Thread-55 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,329 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 972], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['seqno', 123456], ['previousDefaultStatus', 00], ['paygrpavl', 10], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11]]]]]]
2017-11-28 15:49:38,329 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=972, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@46773403], ['seqno', [B@47eb4a6], ['previousDefaultStatus', [B@617c2ac5], ['paygrpavl', [B@7b808d85], ['iso20022MsgId', [B@4a869da], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@7582366d]]}
2017-11-28 15:49:38,345 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><CnnctSt><PmtPrtyGrp>1</PmtPrtyGrp><Avlblty>0</Avlblty></CnnctSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:38,345 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@75a8001a
2017-11-28 15:49:38,345 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><CnnctSt><PmtPrtyGrp>1</PmtPrtyGrp><Avlblty>0</Avlblty></CnnctSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><CnnctSt><PmtPrtyGrp>1</PmtPrtyGrp><Avlblty>0</Avlblty></CnnctSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:38,361 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,439 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 972], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['seqno', 123456], ['previousDefaultStatus', 00], ['paygrpavl', 10], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['newDefaultStatus', 00], ['instname', 10]]]]]]
2017-11-28 15:49:38,439 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=972, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@5767a1af], ['seqno', [B@7127a237], ['previousDefaultStatus', [B@6dd4a895], ['paygrpavl', [B@2dc77695], ['iso20022MsgId', [B@4747c05b], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['newDefaultStatus', [B@b3df49e], ['instname', [B@43e5756c]]}
2017-11-28 15:49:38,454 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt><PrvSt>00</PrvSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:38,454 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5580c05b
2017-11-28 15:49:38,454 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt><PrvSt>00</PrvSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt><PrvSt>00</PrvSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:38,454 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,532 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 972], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['seqno', 123456], ['paygrpavl', 10], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['newDefaultStatus', 00], ['instname', 10]]]]]]
2017-11-28 15:49:38,532 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=972, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@71dbcd63], ['seqno', [B@693e7bc3], ['paygrpavl', [B@207ed45f], ['iso20022MsgId', [B@475f8559], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['newDefaultStatus', [B@6840e804], ['instname', [B@723a76ac]]}
2017-11-28 15:49:38,532 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:38,532 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@24308898
2017-11-28 15:49:38,532 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>972</FnctnCd><InstStChng><SspnSt><CrrntSt>00</CrrntSt></SspnSt></InstStChng><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:38,532 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,626 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 972], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:38,626 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=972, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['seqno', [B@4c3ea405], ['iso20022MsgId', [B@721a7aa6], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:38,626 ERROR Thread-56 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [bankConnection] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,626 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:38,626 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:38,626 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:38,641 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,766 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2014-07-15T10:20:38Z], ['evtParam', [['bankCode', 01000002], ['currCode', 978], ['settriskmgt', 00000000000080000188889                     000000000080500089444                ], ['seqno', 006835], ['iso20022MsgId', 98242014071510201800000000000006835], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', Barclays Bank], ['newDebitCap', 0000000000900000]]]]]]
2017-11-28 15:49:38,766 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=973, generationDateAndTime=2014-07-15T10:20:38Z, evtParam=[['bankCode', [B@7c41a9aa], ['currCode', [B@15cf3a5f], ['settriskmgt', [B@4df7735c], ['seqno', [B@6d93be04], ['iso20022MsgId', [B@1c6e56e5], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', [B@701f8af5], ['newDebitCap', [B@6847a39]]}
2017-11-28 15:49:38,861 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:38,861 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@62ba370a
2017-11-28 15:49:38,861 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:38,861 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:38,986 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2014-07-15T10:20:38Z], ['evtParam', [['bankCode', 01000002], ['currCode', 978], ['settriskmgt', 00000000000080000188889                     000000000080500089444                ], ['seqno', 006835], ['iso20022MsgId', 98242014071510201800000000000006835], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', symbol <> &], ['newDebitCap', 0000000000900000]]]]]]
2017-11-28 15:49:38,986 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=973, generationDateAndTime=2014-07-15T10:20:38Z, evtParam=[['bankCode', [B@6bc60a26], ['currCode', [B@6ff98386], ['settriskmgt', [B@2afb001d], ['seqno', [B@40571bec], ['iso20022MsgId', [B@1b9baefa], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', [B@38ddebbc], ['newDebitCap', [B@4ad4ff52]]}
2017-11-28 15:49:39,017 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>symbol &lt;&gt; &amp;</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:39,017 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3224159f
2017-11-28 15:49:39,017 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>symbol &lt;&gt; &amp;</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>symbol &lt;&gt; &amp;</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:39,017 DEBUG Thread-54 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,096 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2014-07-15T10:20:38Z], ['evtParam', [['bankCode', 01000002], ['currCode', 978], ['settriskmgt', 00000000000080000188889                     000000000080500089444                ], ['seqno', 006835], ['iso20022MsgId', 98242014071510201800000000000006835], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa<><], ['newDebitCap', 0000000000900000]]]]]]
2017-11-28 15:49:39,096 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=973, generationDateAndTime=2014-07-15T10:20:38Z, evtParam=[['bankCode', [B@5acf0af8], ['currCode', [B@5408efd1], ['settriskmgt', [B@50376188], ['seqno', [B@1535e5ea], ['iso20022MsgId', [B@370fb57e], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', [B@246ab229], ['newDebitCap', [B@4fbabc0d]]}
2017-11-28 15:49:39,099 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&lt;&gt;</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:39,099 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3f74e53d
2017-11-28 15:49:39,099 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&lt;&gt;</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&lt;&gt;</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:39,103 DEBUG Thread-59 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,216 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2014-07-15T10:20:38Z], ['evtParam', [['bankCode', 01000002], ['currCode', 978], ['settriskmgt', 99000000000080000188889                     000000000080500089444], ['seqno', 006835], ['iso20022MsgId', 98242014071510201800000000000006835], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', Barclays Bank], ['newDebitCap', 0000000000900000]]]]]]
2017-11-28 15:49:39,216 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=973, generationDateAndTime=2014-07-15T10:20:38Z, evtParam=[['bankCode', [B@6068c9b], ['currCode', [B@8c1622b], ['settriskmgt', [B@cfee7eb], ['seqno', [B@49fc6810], ['iso20022MsgId', [B@7b2c57e0], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', [B@78ffa294], ['newDebitCap', [B@3c5c3df]]}
2017-11-28 15:49:39,232 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>99</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:39,232 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@29d3975f
2017-11-28 15:49:39,232 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>99</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>98242014071510201800000000000006835</MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>99</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:39,247 DEBUG Thread-63 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,310 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['settriskmgt', 00000045678901234512345                     000045678901234512345                ], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11], ['newDebitCap', 0000567890123456]]]]]]
2017-11-28 15:49:39,310 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=973, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@abb578f], ['currCode', [B@4d1a09bb], ['settriskmgt', [B@29cf6f2b], ['seqno', [B@1cd202d8], ['iso20022MsgId', [B@4c0529e2], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@51cfb608], ['newDebitCap', [B@3ab3d2d]]}
2017-11-28 15:49:39,341 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSTSt>00</NSTSt><NSTVl>4567890123.45</NSTVl><NSTPc>12345</NSTPc><SRPVl>4567890123.45</SRPVl><SRPPc>12345</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:39,341 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@50a4e56c
2017-11-28 15:49:39,341 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSTSt>00</NSTSt><NSTVl>4567890123.45</NSTVl><NSTPc>12345</NSTPc><SRPVl>4567890123.45</SRPVl><SRPPc>12345</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSTSt>00</NSTSt><NSTVl>4567890123.45</NSTVl><NSTPc>12345</NSTPc><SRPVl>4567890123.45</SRPVl><SRPPc>12345</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:39,356 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,466 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 978], ['settriskmgt', 00000045678901234512345                     000045678901234512345                ], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 10], ['newDebitCap', 0000567890123456]]]]]]
2017-11-28 15:49:39,466 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=973, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@1ffea40a], ['currCode', [B@70116f39], ['settriskmgt', [B@513fe881], ['seqno', [B@716bde76], ['iso20022MsgId', [B@1b5ffaa5], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@604c2650], ['newDebitCap', [B@4e99a138]]}
2017-11-28 15:49:39,481 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSTSt>00</NSTSt><NSTVl>4567890123.45</NSTVl><NSTPc>12345</NSTPc><SRPVl>4567890123.45</SRPVl><SRPPc>12345</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:39,481 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@612e5ef3
2017-11-28 15:49:39,481 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSTSt>00</NSTSt><NSTVl>4567890123.45</NSTVl><NSTPc>12345</NSTPc><SRPVl>4567890123.45</SRPVl><SRPPc>12345</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSTSt>00</NSTSt><NSTVl>4567890123.45</NSTVl><NSTPc>12345</NSTPc><SRPVl>4567890123.45</SRPVl><SRPPc>12345</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:39,497 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,575 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', asdf], ['settriskmgt', 00000045678901234512345                     000045678901234512345                ], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 10], ['newDebitCap', 0000567890123456]]]]]]
2017-11-28 15:49:39,575 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=973, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@2793b269], ['currCode', [B@6e9d6444], ['settriskmgt', [B@573aeb1e], ['seqno', [B@76546415], ['iso20022MsgId', [B@4c6e804c], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@49d462c1], ['newDebitCap', [B@493602fe]]}
2017-11-28 15:49:39,575 ERROR Thread-56 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,575 ERROR Thread-56 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currCode] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,575 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:39,575 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:39,590 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:39,622 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,684 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 973], ['generationDateAndTime', 2014-07-15T10:20:38Z], ['evtParam', [['bankCode', 01000002], ['currCode', 978], ['settriskmgt', 00000000000080000188889                     000000000080500089444                ], ['seqno', 006835], ['iso20022MsgId', 982420140715102018000000000000068<>], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', Barclays Bank], ['newDebitCap', 0000000000900000]]]]]]
2017-11-28 15:49:39,684 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=973, generationDateAndTime=2014-07-15T10:20:38Z, evtParam=[['bankCode', [B@54d77fab], ['currCode', [B@4040b48d], ['settriskmgt', [B@2f6074a2], ['seqno', [B@1cd11423], ['iso20022MsgId', [B@73140a35], ['iso20022CreateDateTime', 2014-07-15T10:20:18Z], ['instname', [B@36b53c06], ['newDebitCap', [B@1a5c9b16]]}
2017-11-28 15:49:39,700 ERROR Thread-32 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - XML file generated by transformer failed xsd validation. : <fusm.001.001.01><GrpHdr><MsgId>982420140715102018000000000000068<></MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:39,700 ERROR Thread-32 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 67; The content of elements must consist of well-formed character data or markup.:XML file generated by transformer failed xsd validation. : <fusm.001.001.01><GrpHdr><MsgId>982420140715102018000000000000068<></MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38</DtTmTrns><USMId>006835</USMId><FnctnCd>973</FnctnCd><Instn><FinInstnId><PrtryId><Id>000002</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>Barclays Bank</InstnNm><SttlmRsk><NSC>9000.00</NSC><NSTSt>00</NSTSt><NSTVl>8000.01</NSTVl><NSTPc>88889</NSTPc><SRPVl>8050.00</SRPVl><SRPPc>89444</SRPPc></SttlmRsk></USMTxInf></fusm.001.001.01>
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.validateXSD(AbstractIpsMessageToIso20022MessageTransformer.java:161)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:89)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,700 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:39,700 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:39,715 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', <fusm.001.001.01><GrpHdr><MsgId>982420140715102018000000000000068<></MsgId><CreDtTm>2014-07-15T10:20:18</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2014-07-15T10:20:38<], ['format', iso20022]]]]
2017-11-28 15:49:39,715 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,871 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 974], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['settriskmgt',                                             1000000500000000     0056789012345123], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', 010201], ['debitCapStatus', 01], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11], ['paymentAmount', 45678901234], ['newDebitCap', 0000567890123456], ['iso20022MsgId', 982420140807122001123456], ['dateLocalTransaction', 2015-11-12T00:00:00], ['txrefno', FTRT00000000000372]]]]]]
2017-11-28 15:49:39,871 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=974, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@ab16e3c], ['currCode', [B@39f2bae3], ['settriskmgt', [B@d560e61], ['seqno', [B@10f4be63], ['processingCode', [B@11b5e2cf], ['sendingBankCode', [B@3dbc67b8], ['debitCapStatus', [B@244368], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@3516f2a9], ['paymentAmount', [B@b0bdd5e], ['newDebitCap', [B@5554fa20], ['iso20022MsgId', [B@77c9dce1], ['dateLocalTransaction', [B@7548eb0b], ['txrefno', [B@20fc29d1]]}
2017-11-28 15:49:39,904 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">456789012.34</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>974</FnctnCd><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSCSt>01</NSCSt><SRPVl>10000005000000.00</SRPVl><RsdlSRP>567890123451.23</RsdlSRP></SttlmRsk><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:39,904 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@10de6e03
2017-11-28 15:49:39,904 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">456789012.34</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>974</FnctnCd><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSCSt>01</NSCSt><SRPVl>10000005000000.00</SRPVl><RsdlSRP>567890123451.23</RsdlSRP></SttlmRsk><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">456789012.34</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>974</FnctnCd><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSCSt>01</NSCSt><SRPVl>10000005000000.00</SRPVl><RsdlSRP>567890123451.23</RsdlSRP></SttlmRsk><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:39,920 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:39,998 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 974], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 978], ['settriskmgt',                                             0056789012345123     0056789012345123], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', 010201], ['debitCapStatus', 01], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 10], ['paymentAmount', 45678901234], ['newDebitCap', 0000567890123456], ['iso20022MsgId', 982420140807122001123456], ['dateLocalTransaction', 2015-11-12T00:00:00], ['txrefno', FTRT00000000000372]]]]]]
2017-11-28 15:49:39,998 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=974, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@1bab7d92], ['currCode', [B@156c8097], ['settriskmgt', [B@115316e2], ['seqno', [B@54518aac], ['processingCode', [B@14563a59], ['sendingBankCode', [B@65cf787c], ['debitCapStatus', [B@6c229621], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@347e75e3], ['paymentAmount', [B@11df05c7], ['newDebitCap', [B@fcd9318], ['iso20022MsgId', [B@77269f5e], ['dateLocalTransaction', [B@30302d34], ['txrefno', [B@5928f7c8]]}
2017-11-28 15:49:40,014 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">456789012.34</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>974</FnctnCd><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSCSt>01</NSCSt><SRPVl>567890123451.23</SRPVl><RsdlSRP>567890123451.23</RsdlSRP></SttlmRsk><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:40,014 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3a1efaa6
2017-11-28 15:49:40,029 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">456789012.34</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>974</FnctnCd><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSCSt>01</NSCSt><SRPVl>567890123451.23</SRPVl><RsdlSRP>567890123451.23</RsdlSRP></SttlmRsk><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">456789012.34</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>974</FnctnCd><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><NSCSt>01</NSCSt><SRPVl>567890123451.23</SRPVl><RsdlSRP>567890123451.23</RsdlSRP></SttlmRsk><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:40,029 DEBUG Thread-26 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,123 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 974], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', asdf], ['settriskmgt',                                             0056789012345123     0056789012345123], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', 010201], ['debitCapStatus', 01], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 10], ['paymentAmount', 45678901234], ['newDebitCap', 0000567890123456], ['iso20022MsgId', 982420140807122001123456], ['dateLocalTransaction', 2015-11-12T00:00:00], ['txrefno', FTRT00000000000372]]]]]]
2017-11-28 15:49:40,123 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=974, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@4e7ee300], ['currCode', [B@54be7416], ['settriskmgt', [B@71548316], ['seqno', [B@6991dd0c], ['processingCode', [B@50ce45dd], ['sendingBankCode', [B@77778516], ['debitCapStatus', [B@22eef4dd], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@45f02431], ['paymentAmount', [B@67b271ff], ['newDebitCap', [B@2c26172a], ['iso20022MsgId', [B@79bb566f], ['dateLocalTransaction', [B@3d2e24c5], ['txrefno', [B@49e79716]]}
2017-11-28 15:49:40,123 ERROR Thread-59 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,123 ERROR Thread-59 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currCode] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,123 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:40,123 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:40,123 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:40,139 DEBUG Thread-59 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,279 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 975], ['evtParam', [['oldSITL', 0000567890123456], ['currCode', 826], ['seqno', 123456], ['newSITL', 0000567890123456], ['statusSITL', 01], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:40,279 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=975, evtParam=[['oldSITL', [B@a8bccc9], ['currCode', [B@37b8a9e7], ['seqno', [B@477b152d], ['newSITL', [B@24271b75], ['statusSITL', [B@709e66bc], ['iso20022MsgId', [B@21b1ed9], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:40,295 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>975</FnctnCd><SITLChng><SITLSt>01</SITLSt><NewSITLLmt>5678901234.56</NewSITLLmt><PrvSITLLmt>5678901234.56</PrvSITLLmt></SITLChng></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:40,295 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@1dd6a1ca
2017-11-28 15:49:40,295 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>975</FnctnCd><SITLChng><SITLSt>01</SITLSt><NewSITLLmt>5678901234.56</NewSITLLmt><PrvSITLLmt>5678901234.56</PrvSITLLmt></SITLChng></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>975</FnctnCd><SITLChng><SITLSt>01</SITLSt><NewSITLLmt>5678901234.56</NewSITLLmt><PrvSITLLmt>5678901234.56</PrvSITLLmt></SITLChng></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:40,295 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,373 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 975], ['evtParam', [['oldSITL', 0000567890123456], ['currCode', 826], ['seqno', 123456], ['newSITL', 0000567890123456], ['statusSITL', 01], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:40,373 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=975, evtParam=[['oldSITL', [B@2c3c87a8], ['currCode', [B@48c11fb5], ['seqno', [B@20674dd4], ['newSITL', [B@7336c39b], ['statusSITL', [B@3bff0b92], ['iso20022MsgId', [B@7b8397ef], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:40,373 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>975</FnctnCd><SITLChng><SITLSt>01</SITLSt><NewSITLLmt>5678901234.56</NewSITLLmt><PrvSITLLmt>5678901234.56</PrvSITLLmt></SITLChng></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:40,373 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@61106ca6
2017-11-28 15:49:40,373 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>975</FnctnCd><SITLChng><SITLSt>01</SITLSt><NewSITLLmt>5678901234.56</NewSITLLmt><PrvSITLLmt>5678901234.56</PrvSITLLmt></SITLChng></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>975</FnctnCd><SITLChng><SITLSt>01</SITLSt><NewSITLLmt>5678901234.56</NewSITLLmt><PrvSITLLmt>5678901234.56</PrvSITLLmt></SITLChng></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:40,388 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,435 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 975], ['evtParam', [['oldSITL', 1234567890123456], ['currCode', asdf], ['seqno', 123456], ['newSITL', 1234567890123456], ['statusSITL', 01], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:40,435 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=975, evtParam=[['oldSITL', [B@5c00aa1], ['currCode', [B@43fd2ef], ['seqno', [B@72c3331], ['newSITL', [B@14e62ce1], ['statusSITL', [B@1176b9de], ['iso20022MsgId', [B@6ba4b9b5], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:40,435 ERROR Thread-48 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,435 ERROR Thread-48 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currCode] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,435 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:40,435 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:40,435 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:40,435 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,544 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 976], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['newSTL', 0000000012345678], ['currCode', 826], ['seqno', 123456], ['processingCode', 101020], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['oldSTL', 0000000065432199]]]]]]
2017-11-28 15:49:40,544 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=976, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['newSTL', [B@4e6b801c], ['currCode', [B@37b34add], ['seqno', [B@169d7891], ['processingCode', [B@2b020c29], ['iso20022MsgId', [B@39fb0235], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['oldSTL', [B@14b35275]]}
2017-11-28 15:49:40,560 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>976</FnctnCd><STLChng><NewSTLLmt>123456.78</NewSTLLmt><PrvSTLLmt>654321.99</PrvSTLLmt></STLChng><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:40,560 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6997f982
2017-11-28 15:49:40,560 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>976</FnctnCd><STLChng><NewSTLLmt>123456.78</NewSTLLmt><PrvSTLLmt>654321.99</PrvSTLLmt></STLChng><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>976</FnctnCd><STLChng><NewSTLLmt>123456.78</NewSTLLmt><PrvSTLLmt>654321.99</PrvSTLLmt></STLChng><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:40,575 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,638 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 976], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['newSTL', 0000000011122233], ['currCode', 978], ['seqno', 123456], ['processingCode', 101020], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['oldSTL', 0000000022211188]]]]]]
2017-11-28 15:49:40,638 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=976, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['newSTL', [B@4264409d], ['currCode', [B@3c1ee7ec], ['seqno', [B@75cc9f69], ['processingCode', [B@58de3ce0], ['iso20022MsgId', [B@38deefce], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['oldSTL', [B@73b45ebe]]}
2017-11-28 15:49:40,653 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>976</FnctnCd><STLChng><NewSTLLmt>111222.33</NewSTLLmt><PrvSTLLmt>222111.88</PrvSTLLmt></STLChng><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:40,653 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6292a076
2017-11-28 15:49:40,653 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>976</FnctnCd><STLChng><NewSTLLmt>111222.33</NewSTLLmt><PrvSTLLmt>222111.88</PrvSTLLmt></STLChng><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>976</FnctnCd><STLChng><NewSTLLmt>111222.33</NewSTLLmt><PrvSTLLmt>222111.88</PrvSTLLmt></STLChng><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:40,653 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,747 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 976], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['newSTL', 0000000001122344], ['currCode', asdf], ['seqno', 123456], ['processingCode', 101020], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['oldSTL', 0000000033221177]]]]]]
2017-11-28 15:49:40,747 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=976, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['newSTL', [B@1e5fd1da], ['currCode', [B@37ad5d7e], ['seqno', [B@47b7d513], ['processingCode', [B@247a0590], ['iso20022MsgId', [B@444bd1c4], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['oldSTL', [B@19d0229e]]}
2017-11-28 15:49:40,747 ERROR Thread-64 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,747 ERROR Thread-64 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currCode] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,747 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:40,747 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:40,747 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:40,763 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,887 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 977], ['evtParam', [['bankCode', 01234567], ['currCode', 826], ['settriskmgt', 00000045678900134512345000045678901234512345 ], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', VictoriaBank]]]]]]
2017-11-28 15:49:40,887 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=977, evtParam=[['bankCode', [B@5289fa63], ['currCode', [B@5c4e0e42], ['settriskmgt', [B@58719113], ['seqno', [B@1d730479], ['iso20022MsgId', [B@34af56], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@2ca49d0c]]}
2017-11-28 15:49:40,887 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>VictoriaBank</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:40,887 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@78096882
2017-11-28 15:49:40,887 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>VictoriaBank</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>VictoriaBank</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:40,887 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:40,965 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 977], ['evtParam', [['bankCode', 01234567], ['currCode', 826], ['settriskmgt', 00000045678900134512345000045678901234512345 ], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', symbol <> &]]]]]]
2017-11-28 15:49:40,965 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=977, evtParam=[['bankCode', [B@2f36e388], ['currCode', [B@21f1081e], ['settriskmgt', [B@25ce88f8], ['seqno', [B@60cc0225], ['iso20022MsgId', [B@78fe8717], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@51e6c1ee]]}
2017-11-28 15:49:40,965 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>symbol &lt;&gt; &amp;</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:40,965 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3e1a62
2017-11-28 15:49:40,965 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>symbol &lt;&gt; &amp;</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>symbol &lt;&gt; &amp;</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:40,965 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,059 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 977], ['evtParam', [['mac2', 1234567890123456], ['bankCode', 01234567], ['currCode', 826], ['settriskmgt', 00000045678900134512345000045678901234512345 ], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11]]]]]]
2017-11-28 15:49:41,059 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=977, evtParam=[['mac2', [B@3e20aaf5], ['bankCode', [B@4db00666], ['currCode', [B@6fca58e8], ['settriskmgt', [B@20368b6b], ['seqno', [B@1b7aea9a], ['iso20022MsgId', [B@56b44ca5], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@6b844383]]}
2017-11-28 15:49:41,059 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:41,075 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7ffde04b
2017-11-28 15:49:41,075 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>977</FnctnCd><Instn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSTSt>00</NSTSt><NSTVl>4567890013.45</NSTVl><NSTPc>12345</NSTPc><PrvNSTVl>4567890123.45</PrvNSTVl><PrvNSTPc>12345</PrvNSTPc></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:41,090 DEBUG Thread-45 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,153 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 977], ['evtParam', [['bankCode', 01234567], ['currCode', foo], ['settriskmgt', 00000045678900134512345000045678901234512345], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11]]]]]]
2017-11-28 15:49:41,153 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=977, evtParam=[['bankCode', [B@55e45647], ['currCode', [B@764f7aba], ['settriskmgt', [B@3a0b60ba], ['seqno', [B@4fa10fca], ['iso20022MsgId', [B@38803e17], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@35970917]]}
2017-11-28 15:49:41,153 ERROR Thread-59 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,153 ERROR Thread-59 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currCode] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,153 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:41,153 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:41,153 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:41,168 DEBUG Thread-59 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,355 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 978], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['previousDebitCap', 0000567890123456], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['debitCapStatus', 01], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11], ['newDebitCap', 0000567890123456]]]]]]
2017-11-28 15:49:41,355 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=978, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@671f7d92], ['currCode', [B@c4b271], ['previousDebitCap', [B@62539b93], ['seqno', [B@3c7a81ac], ['iso20022MsgId', [B@2095885c], ['debitCapStatus', [B@5e7f105], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@7b166d29], ['newDebitCap', [B@1309e406]]}
2017-11-28 15:49:41,355 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>978</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><PrvNSC>5678901234.56</PrvNSC><NSCSt>01</NSCSt></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:41,355 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@1fd24953
2017-11-28 15:49:41,355 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>978</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><PrvNSC>5678901234.56</PrvNSC><NSCSt>01</NSCSt></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>978</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><PrvNSC>5678901234.56</PrvNSC><NSCSt>01</NSCSt></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:41,402 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,449 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 978], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['mac2', 1234567890123456], ['bankCode', 01020123], ['currCode', 978], ['previousDebitCap', 0000567890123456], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['debitCapStatus', 01], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 10], ['newDebitCap', 0000567890123456]]]]]]
2017-11-28 15:49:41,449 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=978, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['mac2', [B@52cfd3dd], ['bankCode', [B@3344991b], ['currCode', [B@3dea45fc], ['previousDebitCap', [B@6b67e02a], ['seqno', [B@471a87a0], ['iso20022MsgId', [B@50814219], ['debitCapStatus', [B@3fab2850], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@6b99e93f], ['newDebitCap', [B@782d546b]]}
2017-11-28 15:49:41,465 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>978</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><PrvNSC>5678901234.56</PrvNSC><NSCSt>01</NSCSt></SttlmRsk></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:41,465 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@22e640fd
2017-11-28 15:49:41,465 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>978</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><PrvNSC>5678901234.56</PrvNSC><NSCSt>01</NSCSt></SttlmRsk></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>978</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmRsk><NSC>5678901234.56</NSC><PrvNSC>5678901234.56</PrvNSC><NSCSt>01</NSCSt></SttlmRsk></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:41,465 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,527 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 978], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', asdf], ['previousDebitCap', 0000567890123456], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['debitCapStatus', 01], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 10], ['newDebitCap', 0000567890123456]]]]]]
2017-11-28 15:49:41,527 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=978, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@4b82b9f8], ['currCode', [B@46d9fd9], ['previousDebitCap', [B@557d6044], ['seqno', [B@229bfb8d], ['iso20022MsgId', [B@7c08db5f], ['debitCapStatus', [B@14731050], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@2a323dda], ['newDebitCap', [B@5708fc82]]}
2017-11-28 15:49:41,527 ERROR Thread-32 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,527 ERROR Thread-32 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currCode] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,527 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:41,527 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:41,527 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:41,543 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,683 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 979], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['seqno', 123456], ['settlementCycleId', 001], ['settmgt', 0004567890123456C0004567890123456D1210091234], ['iso20022MsgId', 982420140807122001123456], ['setprocstat', 102], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['settlementCycleDate', 2015-11-12], ['instname', 11]]]]]]
2017-11-28 15:49:41,683 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=979, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@456d8550], ['currCode', [B@74af0ae0], ['seqno', [B@26e477c1], ['settlementCycleId', [B@cb7df93], ['settmgt', [B@25d98c50], ['iso20022MsgId', [B@29ad6a01], ['setprocstat', [B@2cf24a8a], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['settlementCycleDate', [B@1e8b43c0], ['instname', [B@7759f74d]]}
2017-11-28 15:49:41,683 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><IntrBkSttlmDt>2015-11-12</IntrBkSttlmDt><USMId>123456</USMId><FnctnCd>979</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmMng><SttlmPrc>1</SttlmPrc><SttlmSt>02</SttlmSt><OrgMNSP>45678901234.56</OrgMNSP><OrgDRCR>C</OrgDRCR><RclcMNSP>45678901234.56</RclcMNSP><RclcDRCR>D</RclcDRCR><CtOffTm>2015-12-10T09:12:34</CtOffTm></SttlmMng></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:41,683 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4f2f1b15
2017-11-28 15:49:41,683 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><IntrBkSttlmDt>2015-11-12</IntrBkSttlmDt><USMId>123456</USMId><FnctnCd>979</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmMng><SttlmPrc>1</SttlmPrc><SttlmSt>02</SttlmSt><OrgMNSP>45678901234.56</OrgMNSP><OrgDRCR>C</OrgDRCR><RclcMNSP>45678901234.56</RclcMNSP><RclcDRCR>D</RclcDRCR><CtOffTm>2015-12-10T09:12:34</CtOffTm></SttlmMng></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><IntrBkSttlmDt>2015-11-12</IntrBkSttlmDt><USMId>123456</USMId><FnctnCd>979</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>11</InstnNm><SttlmMng><SttlmPrc>1</SttlmPrc><SttlmSt>02</SttlmSt><OrgMNSP>45678901234.56</OrgMNSP><OrgDRCR>C</OrgDRCR><RclcMNSP>45678901234.56</RclcMNSP><RclcDRCR>D</RclcDRCR><CtOffTm>2015-12-10T09:12:34</CtOffTm></SttlmMng></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:41,683 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,761 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 979], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 978], ['seqno', 123456], ['settlementCycleId', 001], ['settmgt', 0004567890123456C                 1210091234], ['iso20022MsgId', 982420140807122001123456], ['setprocstat', 102], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['settlementCycleDate', 2015-11-12], ['instname', 10]]]]]]
2017-11-28 15:49:41,761 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=979, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@7d5cfb36], ['currCode', [B@5837a5d4], ['seqno', [B@50731f23], ['settlementCycleId', [B@630d20d7], ['settmgt', [B@7912e2cb], ['iso20022MsgId', [B@1ceee138], ['setprocstat', [B@54ac6f81], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['settlementCycleDate', [B@5eade65b], ['instname', [B@30c743ff]]}
2017-11-28 15:49:41,777 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><IntrBkSttlmDt>2015-11-12</IntrBkSttlmDt><USMId>123456</USMId><FnctnCd>979</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmMng><SttlmPrc>1</SttlmPrc><SttlmSt>02</SttlmSt><OrgMNSP>45678901234.56</OrgMNSP><OrgDRCR>C</OrgDRCR><CtOffTm>2015-12-10T09:12:34</CtOffTm></SttlmMng></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:41,777 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5b4b93fe
2017-11-28 15:49:41,777 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><IntrBkSttlmDt>2015-11-12</IntrBkSttlmDt><USMId>123456</USMId><FnctnCd>979</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmMng><SttlmPrc>1</SttlmPrc><SttlmSt>02</SttlmSt><OrgMNSP>45678901234.56</OrgMNSP><OrgDRCR>C</OrgDRCR><CtOffTm>2015-12-10T09:12:34</CtOffTm></SttlmMng></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><IntrBkSttlmDt>2015-11-12</IntrBkSttlmDt><USMId>123456</USMId><FnctnCd>979</FnctnCd><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><InstnNm>10</InstnNm><SttlmMng><SttlmPrc>1</SttlmPrc><SttlmSt>02</SttlmSt><OrgMNSP>45678901234.56</OrgMNSP><OrgDRCR>C</OrgDRCR><CtOffTm>2015-12-10T09:12:34</CtOffTm></SttlmMng></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:41,792 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,860 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 979], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', asdf], ['seqno', 123456], ['settlementCycleId', 001], ['settmgt', 0004567890123456C0004567890123456D1210091234], ['iso20022MsgId', 982420140807122001123456], ['setprocstat', 102], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['settlementCycleDate', 2015-11-12], ['instname', 10]]]]]]
2017-11-28 15:49:41,860 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=979, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@e3fd6a], ['currCode', [B@ca9145e], ['seqno', [B@6ba74d94], ['settlementCycleId', [B@1b3ab788], ['settmgt', [B@4ad0128], ['iso20022MsgId', [B@40e2ee07], ['setprocstat', [B@11f8c062], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['settlementCycleDate', [B@5f30a322], ['instname', [B@33f85dad]]}
2017-11-28 15:49:41,860 ERROR Thread-60 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,860 ERROR Thread-60 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currCode] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,860 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:41,860 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:41,875 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:41,875 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:41,984 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 980], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['submittingBankCode', 01234567], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', 010201], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11                                      22                                      ], ['iso20022MsgId', 982420140807122001123456], ['receivingBankCode', 01234567], ['actionCode', 1111], ['dateLocalTransaction', 2015-11-12T00:00:00], ['txrefno', FTRT00000000000372], ['receivingBankName', bank name]]]]]]
2017-11-28 15:49:41,984 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=980, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@56fd0b1f], ['currCode', [B@7d8f6dda], ['submittingBankCode', [B@2e11ffea], ['seqno', [B@2ca638db], ['processingCode', [B@12bd7ba3], ['sendingBankCode', [B@14da2593], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@3515764d], ['iso20022MsgId', [B@28e8e0d4], ['receivingBankCode', [B@5171e609], ['actionCode', [B@14c2b709], ['dateLocalTransaction', [B@a7b1cc2], ['txrefno', [B@65faa319], ['receivingBankName', [B@3be55001]]}
2017-11-28 15:49:42,000 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22                                      </SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:42,000 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3a1ec28b
2017-11-28 15:49:42,000 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22                                      </SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22                                      </SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:42,031 DEBUG Thread-44 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,078 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 980], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['submittingBankCode', 01234567], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', 010201], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11                                      ], ['iso20022MsgId', 982420140807122001123456], ['receivingBankCode', 01234567], ['actionCode', 1111], ['dateLocalTransaction', 2015-11-12T00:00:00], ['txrefno', FTRT00000000000372], ['receivingBankName', bank name]]]]]]
2017-11-28 15:49:42,078 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=980, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@339feb14], ['currCode', [B@473a48a6], ['submittingBankCode', [B@e6b9399], ['seqno', [B@1e84d5a7], ['processingCode', [B@520f5a28], ['sendingBankCode', [B@476557b7], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@15c0f399], ['iso20022MsgId', [B@2dd1356b], ['receivingBankCode', [B@527f4e3], ['actionCode', [B@6892c31f], ['dateLocalTransaction', [B@7adca9af], ['txrefno', [B@5e02b1f2], ['receivingBankName', [B@64b8c63d]]}
2017-11-28 15:49:42,078 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:42,078 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@1acc6b8e
2017-11-28 15:49:42,078 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>010201</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:42,078 DEBUG Thread-45 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,140 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 980], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['submittingBankCode', 01234567], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', AAAAAA22], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11                                      22], ['iso20022MsgId', 982420140807122001123456], ['receivingBankCode', 01234567], ['actionCode', 1111], ['dateLocalTransaction', 2015-11-12T00:00:00], ['txrefno', FTRT00000000000372], ['receivingBankName', bank name]]]]]]
2017-11-28 15:49:42,140 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=980, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@5478a1af], ['currCode', [B@13e02bb5], ['submittingBankCode', [B@2aa9df58], ['seqno', [B@277bb4ab], ['processingCode', [B@369f1c32], ['sendingBankCode', [B@243034d7], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@40076c16], ['iso20022MsgId', [B@3a234651], ['receivingBankCode', [B@7413b3ab], ['actionCode', [B@51a0a772], ['dateLocalTransaction', [B@2a3c168c], ['txrefno', [B@a0ddc54], ['receivingBankName', [B@636aa855]]}
2017-11-28 15:49:42,140 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><BIC>AAAAAA22</BIC></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22</SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:42,140 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@37a5087d
2017-11-28 15:49:42,140 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><BIC>AAAAAA22</BIC></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22</SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="GBP">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><BIC>AAAAAA22</BIC></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22</SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:42,140 DEBUG Thread-59 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,187 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 980], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 978], ['submittingBankCode', 01234567], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', AAAAAA22], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11                                      22                                      ], ['iso20022MsgId', 982420140807122001123456], ['receivingBankCode', 01234567], ['actionCode', 1111], ['dateLocalTransaction', 2015-11-12T00:00:00], ['txrefno', FTRT00000000000372], ['receivingBankName', bank name]]]]]]
2017-11-28 15:49:42,187 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=980, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@79b506b1], ['currCode', [B@7772f7f7], ['submittingBankCode', [B@734d6dc1], ['seqno', [B@364ffdcc], ['processingCode', [B@671ee53a], ['sendingBankCode', [B@7b36b61], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@1f082d33], ['iso20022MsgId', [B@56600283], ['receivingBankCode', [B@46c70a40], ['actionCode', [B@5ab3999a], ['dateLocalTransaction', [B@40c464a], ['txrefno', [B@522e3852], ['receivingBankName', [B@2c45bd5d]]}
2017-11-28 15:49:42,203 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><BIC>AAAAAA22</BIC></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22                                      </SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:42,203 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6afc8e06
2017-11-28 15:49:42,203 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><BIC>AAAAAA22</BIC></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22                                      </SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt></SttlmInf></GrpHdr><USMTxInf><IntrBkSttlmAmt Ccy="EUR">0.00</IntrBkSttlmAmt><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><AccptncDtTm>2015-11-12T00:00:00</AccptncDtTm><USMId>123456</USMId><FnctnCd>980</FnctnCd><StsRsnInf><StsRsn><Prtry>1111</Prtry></StsRsn></StsRsnInf><PmtId><TxId>FTRT00000000000372</TxId></PmtId><InstgAgt><FinInstnId><BIC>AAAAAA22</BIC></FinInstnId></InstgAgt><Instn><FinInstnId><PrtryId><Id>020123</Id><Issr>01</Issr></PrtryId></FinInstnId></Instn><RcvngInstn><FinInstnId><PrtryId><Id>234567</Id><Issr>01</Issr></PrtryId></FinInstnId></RcvngInstn><InstnNm>11                                      </InstnNm><SbmtMmbNm>22                                      </SbmtMmbNm><RcvngInstnNm>bank name</RcvngInstnNm><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:42,203 DEBUG Thread-67 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,265 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['functionCode', 980], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['evtParam', [['bankCode', 01020123], ['currCode', 826], ['submittingBankCode', 01234567], ['seqno', 123456], ['processingCode', 101020], ['sendingBankCode', AAAAAA22], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', 11                                      22                                      ], ['iso20022MsgId', 982420140807122001123456], ['receivingBankCode', 01234567], ['actionCode', 1111], ['dateLocalTransaction', FOO], ['txrefno', FTRT00000000000372], ['receivingBankName', bank name]]]]]]
2017-11-28 15:49:42,265 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, functionCode=980, generationDateAndTime=2015-11-12T16:45:00Z, evtParam=[['bankCode', [B@786ad5ea], ['currCode', [B@76ad3497], ['submittingBankCode', [B@7292be9a], ['seqno', [B@37903eac], ['processingCode', [B@19fb7831], ['sendingBankCode', [B@6edee15], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z], ['instname', [B@616cf63c], ['iso20022MsgId', [B@57bfc1e3], ['receivingBankCode', [B@15c711d5], ['actionCode', [B@7cb3d83e], ['dateLocalTransaction', [B@7a681c82], ['txrefno', [B@53f17af5], ['receivingBankName', [B@7e1580e7]]}
2017-11-28 15:49:42,265 ERROR Thread-39 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <The validated object is null> for field dateLocalTransaction,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,265 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:42,265 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:42,265 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:42,281 DEBUG Thread-39 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,406 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 981], ['evtParam', [['messageText', 123456], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:42,406 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=981, evtParam=[['messageText', [B@6d30b2d9], ['seqno', [B@31c542ad], ['iso20022MsgId', [B@3c501d17], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:42,406 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>981</FnctnCd><InfTxt>123456</InfTxt></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:42,406 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@262e2aac
2017-11-28 15:49:42,406 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>981</FnctnCd><InfTxt>123456</InfTxt></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>981</FnctnCd><InfTxt>123456</InfTxt></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:42,406 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,468 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['generationDateAndTime', 2015-11-12T16:45:00Z], ['functionCode', 981], ['evtParam', [['messageText', 123456], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:42,468 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, generationDateAndTime=2015-11-12T16:45:00Z, functionCode=981, evtParam=[['messageText', [B@44e90559], ['seqno', [B@601ddcea], ['iso20022MsgId', [B@7281428e], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:42,468 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>981</FnctnCd><InfTxt>123456</InfTxt></USMTxInf></fusm.001.001.01>
2017-11-28 15:49:42,468 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6270158b
2017-11-28 15:49:42,468 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>981</FnctnCd><InfTxt>123456</InfTxt></USMTxInf></fusm.001.001.01>, [['logmessage', <fusm.001.001.01><GrpHdr><MsgId>982420140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf></GrpHdr><USMTxInf><DtTmTrns>2015-11-12T16:45:00</DtTmTrns><USMId>123456</USMId><FnctnCd>981</FnctnCd><InfTxt>123456</InfTxt></USMTxInf></fusm.001.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:42,468 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,531 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mac2', 1234567890123456], ['mtid', 9824], ['functionCode', 981], ['evtParam', [['messageText', 123456], ['seqno', 123456], ['iso20022MsgId', 982420140807122001123456], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]]]]]
2017-11-28 15:49:42,531 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mac2=1234567890123456, mtid=9824, functionCode=981, evtParam=[['messageText', [B@6de0171f], ['seqno', [B@611d6b63], ['iso20022MsgId', [B@5afa4677], ['iso20022CreateDateTime', 2015-11-12T16:45:00Z]]}
2017-11-28 15:49:42,531 ERROR Thread-32 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [generationDateAndTime] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,531 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:42,531 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:42,531 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:42,531 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,633 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 911008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9110], ['settcycle', 001], ['synerrdat', 1930], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022OrgMsgType'', 9110], [''redirectbenaccno'', somebank], [''iso20022MsgId'', 9110], [''iso20022OrgMsgId'', 9110], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', redbank]]], ['rsptime', 1500], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T16:45:00Z]]]]
2017-11-28 15:49:42,633 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=911008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9110, settcycle=001, synerrdat=1930, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022OrgMsgType'', [B@78d64b6e], [''redirectbenaccno'', [B@933838a], [''iso20022MsgId'', [B@6a14fc90], [''iso20022OrgMsgId'', [B@60a689e3], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', [B@2ae123a2]], rsptime=1500, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T16:45:00Z}
2017-11-28 15:49:42,649 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>
2017-11-28 15:49:42,649 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3f5bdaa7
2017-11-28 15:49:42,649 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>, [['logmessage', <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>], ['format', iso20022]]]]
2017-11-28 15:49:42,649 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['procasync', 1], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 911008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9110], ['settcycle', 001], ['synerrdat', 1930], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022OrgMsgType'', 9110], [''redirectbenaccno'', somebank], [''iso20022MsgId'', 9110], [''iso20022OrgMsgId'', 9110], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', redbank]]], ['rsptime', 1500], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T16:45:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:42,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, procasync=1, processingCode=201020, payretcode=12345678, msgid=911008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9110, settcycle=001, synerrdat=1930, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022OrgMsgType'', [B@5750eb75], [''redirectbenaccno'', [B@50035602], [''iso20022MsgId'', [B@5dd92cc4], [''iso20022OrgMsgId'', [B@148eb2f5], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', [B@4455f852]], rsptime=1500, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T16:45:00Z, fileid=FOO}
2017-11-28 15:49:42,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn><AddtlStsRsnInf>1</AddtlStsRsnInf></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>
2017-11-28 15:49:42,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@e2c159c
2017-11-28 15:49:42,711 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn><AddtlStsRsnInf>1</AddtlStsRsnInf></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>, [['logmessage', <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn><AddtlStsRsnInf>1</AddtlStsRsnInf></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>], ['format', iso20022]]]]
2017-11-28 15:49:42,711 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['procasync', 1], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 911008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9110], ['settcycle', 001], ['synerrdat', 1930], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022OrgMsgType'', 9110], [''redirectbenaccno'', somebank], [''iso20022MsgId'', 9110], [''iso20022OrgMsgId'', 9110], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', redbank]]], ['rsptime', 1500], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T16:45:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:42,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, procasync=1, processingCode=201020, payretcode=12345678, msgid=911008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9110, settcycle=001, synerrdat=1930, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022OrgMsgType'', [B@643d0f03], [''redirectbenaccno'', [B@33913836], [''iso20022MsgId'', [B@69e2b4d5], [''iso20022OrgMsgId'', [B@18868971], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', [B@14cfc875]], rsptime=1500, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T16:45:00Z, fileid=FOO}
2017-11-28 15:49:42,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn><AddtlStsRsnInf>1</AddtlStsRsnInf></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>
2017-11-28 15:49:42,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@2ea50252
2017-11-28 15:49:42,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn><AddtlStsRsnInf>1</AddtlStsRsnInf></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>, [['logmessage', <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn><AddtlStsRsnInf>1</AddtlStsRsnInf></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>], ['format', iso20022]]]]
2017-11-28 15:49:42,758 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,820 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9110], ['sndfpinst', 654321], ['synerrdat', 1930], ['currencyCodeAmountSettlement', 826], ['processingCode', 201020], ['additionalInfo', [[''iso20022OrgMsgType'', 9110], [''iso20022MsgId'', 9110], [''iso20022OrgMsgId'', 9110], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['payretcode', 12345678], ['msgid', 911008071220011234], ['rettxid', 12345678], ['actionCode', G930], ['dateLocalTransaction', 2015-11-12T16:45:00Z], ['amountSettlement', 1000]]]]
2017-11-28 15:49:42,820 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9110, sndfpinst=654321, synerrdat=1930, currencyCodeAmountSettlement=826, processingCode=201020, additionalInfo=[[''iso20022OrgMsgType'', [B@218bb05b], [''iso20022MsgId'', [B@2f4c4a1a], [''iso20022OrgMsgId'', [B@2b73db2b], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], payretcode=12345678, msgid=911008071220011234, rettxid=12345678, actionCode=G930, dateLocalTransaction=2015-11-12T16:45:00Z, amountSettlement=1000}
2017-11-28 15:49:42,820 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>G930</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>
2017-11-28 15:49:42,820 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6e714021
2017-11-28 15:49:42,820 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>G930</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>, [['logmessage', <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>G930</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><SttlmInf><SttlmMtd>CLRG</SttlmMtd></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>], ['format', iso20022]]]]
2017-11-28 15:49:42,820 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,867 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 123459], ['processingCode', 102000], ['msgid', FTRT00000000000139], ['amountSettlement', 00000000689501], ['dateSettlement', 20170322], ['rcvmember', 01000009], ['mtid', 9110], ['settcycle', 001], ['synerrdat', 1930], ['currencyCodeAmountSettlement', 826], ['submember', 01000002], ['rsptime', 500], ['actionCode', 0000], ['dateLocalTransaction', 2017-03-22T00:00:00Z]]]]
2017-11-28 15:49:42,867 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=123459, processingCode=102000, msgid=FTRT00000000000139, amountSettlement=00000000689501, dateSettlement=20170322, rcvmember=01000009, mtid=9110, settcycle=001, synerrdat=1930, currencyCodeAmountSettlement=826, submember=01000002, rsptime=500, actionCode=0000, dateLocalTransaction=2017-03-22T00:00:00Z}
2017-11-28 15:49:42,867 ERROR Thread-38 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [iso20022OrgMsgType] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,867 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:42,867 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:42,867 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:42,867 DEBUG Thread-38 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,883 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['mtid', 9110], ['sndfpinst', 654321], ['synerrdat', 1930], ['currencyCodeAmountSettlement', 826], ['processingCode', 201020], ['additionalInfo', [[''iso20022MsgId'', 9110], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['payretcode', 12345678], ['msgid', 911008071220011234], ['rettxid', 12345678], ['actionCode', G930], ['dateLocalTransaction', 2015-11-12T16:45:00Z], ['amountSettlement', 1000]]]]
2017-11-28 15:49:42,883 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {mtid=9110, sndfpinst=654321, synerrdat=1930, currencyCodeAmountSettlement=826, processingCode=201020, additionalInfo=[[''iso20022MsgId'', [B@51ebd0d3], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], payretcode=12345678, msgid=911008071220011234, rettxid=12345678, actionCode=G930, dateLocalTransaction=2015-11-12T16:45:00Z, amountSettlement=1000}
2017-11-28 15:49:42,883 ERROR Thread-74 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [iso20022OrgMsgType] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,883 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:42,883 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:42,883 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:42,883 DEBUG Thread-74 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,898 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['procasync', 1], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 911008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9110], ['settcycle', 001], ['synerrdat', 1930], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022OrgMsgType'', 9110], [''redirectbenaccno'', somebank], [''iso20022MsgId'', 9110], [''iso20022OrgMsgId'', 9110], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', redbank]]], ['rsptime', 1500], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T16:45:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:42,898 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, procasync=1, processingCode=201020, payretcode=12345678, msgid=911008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9110, settcycle=001, synerrdat=1930, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022OrgMsgType'', [B@5fc2341c], [''redirectbenaccno'', [B@5105c194], [''iso20022MsgId'', [B@553a5f6c], [''iso20022OrgMsgId'', [B@1038cbaf], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', [B@5e146f60]], rsptime=1500, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T16:45:00Z, fileid=FOO}
2017-11-28 15:49:42,898 ERROR Thread-34 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,898 ERROR Thread-34 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,898 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:42,898 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:42,898 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:42,898 DEBUG Thread-34 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,914 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', TEST], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 911008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9110], ['settcycle', 001], ['synerrdat', 1930], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022OrgMsgType'', 9110], [''redirectbenaccno'', somebank], [''iso20022MsgId'', 9110], [''iso20022OrgMsgId'', 9110], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', redbank]]], ['rsptime', 1500], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T16:45:00Z]]]]
2017-11-28 15:49:42,914 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=TEST, processingCode=201020, payretcode=12345678, msgid=911008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9110, settcycle=001, synerrdat=1930, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022OrgMsgType'', [B@389a0444], [''redirectbenaccno'', [B@365dfd27], [''iso20022MsgId'', [B@32626f34], [''iso20022OrgMsgId'', [B@7760f71c], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z], [''redirectbencredinst'', [B@1f307590]], rsptime=1500, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T16:45:00Z}
2017-11-28 15:49:42,914 ERROR Thread-70 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - XML file generated by transformer failed xsd validation. : <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><BIC>TEST</BIC></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>
2017-11-28 15:49:42,914 ERROR Thread-70 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 485; cvc-pattern-valid: Value 'TEST' is not facet-valid with respect to pattern '[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}' for type 'BICIdentifier'.:XML file generated by transformer failed xsd validation. : <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn></StsRsnInf></OrgnlGrpInfAndSts><TxInfAndSts><OrgnlTxId>911008071220011234</OrgnlTxId><StsRsnInf><StsRsn><Prtry>4021</Prtry></StsRsn><AddtlStsRsnInf>1930</AddtlStsRsnInf></StsRsnInf><AccptncDtTm>2015-11-12T16:45:00</AccptncDtTm><InstgAgt><FinInstnId><BIC>TEST</BIC></FinInstnId></InstgAgt><OrgnlTxRef><IntrBkSttlmAmt Ccy="GBP">10.00</IntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><BkPtyId>somebank</BkPtyId><PrtryId><Id>20</Id><Issr>redbank</Issr></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInfAndSts></pacs.002.001.02>
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.validateXSD(AbstractIpsMessageToIso20022MessageTransformer.java:161)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:89)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:42,914 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:42,914 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:42,914 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', <pacs.002.001.02><GrpHdr><MsgId>9110</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>9110</OrgnlMsgId><OrgnlMsgNmId>9110</OrgnlMsgNmId><StsRsnInf><StsRsn><Prtry>1500</Prtry></StsRsn></StsRsnInf></OrgnlGrpInfAndSts><TxI], ['format', iso20022]]]]
2017-11-28 15:49:42,914 DEBUG Thread-70 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,054 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910208071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9102], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,054 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910208071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9102, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@5c045b38], [''iso20022MsgId'', [B@3715660d], [''iso20022OrgMsgId'', [B@2b1a5a69], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,070 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,070 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4075b70f
2017-11-28 15:49:43,070 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,070 DEBUG Thread-54 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,179 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 910208071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9102], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,179 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=910208071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9102, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@5ebef008], [''iso20022MsgId'', [B@507915af], [''iso20022OrgMsgId'', [B@54469b78], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,179 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,179 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@11441f94
2017-11-28 15:49:43,179 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,195 DEBUG Thread-25 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,257 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910208071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9102], ['settcycle', 001], ['benaccno', AB00AB], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,257 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910208071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9102, settcycle=001, benaccno=AB00AB, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@1c85c533], [''iso20022MsgId'', [B@2633462d], [''iso20022OrgMsgId'', [B@7ecdb6cc], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,257 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,257 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@2c8d034a
2017-11-28 15:49:43,257 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,288 DEBUG Thread-39 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,335 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910208071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 1112], ['mtid', 9102], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,335 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910208071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=1112, mtid=9102, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@1b6fdb6], [''iso20022MsgId'', [B@21ed0ba], [''iso20022OrgMsgId'', [B@58a9ebf6], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,335 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,335 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7059c9d8
2017-11-28 15:49:43,335 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,335 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,429 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910208071220011234], ['bencredinst', AAAAAAAA], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9102], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,429 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910208071220011234, bencredinst=AAAAAAAA, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9102, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@d77ba4b], [''iso20022MsgId'', [B@28d31e20], [''iso20022OrgMsgId'', [B@ccfeaad], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,429 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,429 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@42e88390
2017-11-28 15:49:43,444 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,444 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,538 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910208071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9102], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,538 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@40245297], [''iso20022MsgId'', [B@27813e7], [''iso20022OrgMsgId'', [B@2f020d26], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910208071220011234, remitinfo=remitinfo, benaccaddr=[[B@7cf26045], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9102, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@1e2025a6], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,616 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,616 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@f54df19
2017-11-28 15:49:43,616 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,725 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,807 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910208071220011234], ['remitinfo', remitinfo], ['benaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9102], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,807 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@12043cdc], [''iso20022MsgId'', [B@5fd5a81c], [''iso20022OrgMsgId'', [B@6a4a8a4e], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910208071220011234, remitinfo=remitinfo, benaccaddr=[[B@e5ebf6e], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9102, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@3d0f80a5], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,823 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,823 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4f684a50
2017-11-28 15:49:43,838 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,838 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:43,932 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002054826000000000000151826000000000000252826000000000000353], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910208071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9102], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [orgaccaddr]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:43,932 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002054826000000000000151826000000000000252826000000000000353, additionalInfo=[[''iso20022OrgMsgType'', [B@42544e2f], [''iso20022MsgId'', [B@4c93b815], [''iso20022OrgMsgId'', [B@48ac255f], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910208071220011234, remitinfo=remitinfo, benaccaddr=[[B@daeb22e], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9102, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@6d6bb082], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:43,948 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">2.52</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">3.53</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:43,948 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3c69fe2a
2017-11-28 15:49:43,948 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">2.52</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">3.53</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>orgaccaddr</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">2.52</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">3.53</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:43,948 DEBUG Thread-46 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,010 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910208071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9102], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [orgaccaddr]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,010 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@59bc84e6], [''iso20022MsgId'', [B@577b61a1], [''iso20022OrgMsgId'', [B@5344ef96], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910208071220011234, remitinfo=remitinfo, benaccaddr=[[B@16466b9a], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9102, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@2be04600], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,026 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,026 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@271a5cb4
2017-11-28 15:49:44,026 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>orgaccaddr</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,026 DEBUG Thread-42 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,104 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', Name <> name], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910208071220011234], ['remitinfo', >"<], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', &<>], ['mtid', 9102], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,104 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=Name <> name, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@7d67f073], [''iso20022MsgId'', [B@196c6cf7], [''iso20022OrgMsgId'', [B@2f72578f], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910208071220011234, remitinfo=>"<, benaccaddr=[[B@308b44fc], orgaccno=12345678, proasync=1, refinfo=&<>, mtid=9102, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@722ddef6], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,119 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>**************</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*************</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>******************</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,119 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@8dc1f90
2017-11-28 15:49:44,119 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>&gt;&quot;&lt;</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>&amp;&lt;&gt;</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>Name &lt;&gt; name</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910220140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910220140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910208071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>**************</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*************</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>******************</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,119 DEBUG Thread-59 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,182 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', FOO], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910208071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GBA]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9102], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [orgaccaddr]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,182 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=FOO, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@19509841], [''iso20022MsgId'', [B@1797751b], [''iso20022OrgMsgId'', [B@13a8f331], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910208071220011234, remitinfo=remitinfo, benaccaddr=[[B@56aa7f20], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9102, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@4b257724], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,182 ERROR Thread-29 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,182 ERROR Thread-29 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,182 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:44,182 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:44,182 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:44,182 DEBUG Thread-29 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,244 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 987654], ['payretcode', 12345678], ['msgid', 910208071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9102], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910220140807122001123456], [''iso20022OrgMsgId'', 910220140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,244 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=987654, payretcode=12345678, msgid=910208071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9102, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@1e13e7b5], [''iso20022MsgId'', [B@22add874], [''iso20022OrgMsgId'', [B@3145713b], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,244 ERROR Thread-39 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: No message schema found for given raw message.
	at com.vocalink.ips.transformation.impl.iso20022.MessageSchemaResolverOutImpl.getMessageFormat(MessageSchemaResolverOutImpl.java:63)
	at com.vocalink.ips.transformation.impl.iso20022.MessageSchemaResolverOutImpl.resolveSchema(MessageSchemaResolverOutImpl.java:36)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.toDraftMessage(AbstractIpsMessageToIso20022MessageTransformer.java:53)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:82)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,244 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:44,244 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:44,244 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:44,275 DEBUG Thread-39 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,384 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910308071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9103], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,384 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910308071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9103, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@4e60e2ca], [''iso20022MsgId'', [B@552b1181], [''iso20022OrgMsgId'', [B@69af1696], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,400 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,400 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3e033a45
2017-11-28 15:49:44,400 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,400 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,478 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 910308071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9103], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,478 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=910308071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9103, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@6e3f0751], [''iso20022MsgId'', [B@60cb7cf0], [''iso20022OrgMsgId'', [B@18a6d755], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,494 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,494 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7a185587
2017-11-28 15:49:44,494 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,494 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,556 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910308071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9103], ['settcycle', 001], ['benaccno', AB00AB], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,556 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910308071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9103, settcycle=001, benaccno=AB00AB, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@4f17cea8], [''iso20022MsgId'', [B@6986f1a9], [''iso20022OrgMsgId'', [B@26100699], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,572 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,572 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@f95a955
2017-11-28 15:49:44,572 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,572 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,618 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910308071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 1112], ['mtid', 9103], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,618 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910308071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=1112, mtid=9103, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@72e641a0], [''iso20022MsgId'', [B@26db278e], [''iso20022OrgMsgId'', [B@504ecc4], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,634 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,634 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@64eb8021
2017-11-28 15:49:44,634 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,634 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 910308071220011234], ['bencredinst', AAAAAAAA], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9103], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=910308071220011234, bencredinst=AAAAAAAA, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9103, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@1a87a791], [''iso20022MsgId'', [B@7bffa72e], [''iso20022OrgMsgId'', [B@1003576b], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7eed2002
2017-11-28 15:49:44,696 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></CdtrAgt><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,712 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,774 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910308071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9103], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,774 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@521d4f4f], [''iso20022MsgId'', [B@7e7c897c], [''iso20022OrgMsgId'', [B@141a7aa6], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910308071220011234, remitinfo=remitinfo, benaccaddr=[[B@122b5de5], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9103, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@2af41fd8], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,790 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,790 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@30d94493
2017-11-28 15:49:44,790 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,806 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,852 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910308071220011234], ['remitinfo', remitinfo], ['benaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9103], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,852 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@4f952e70], [''iso20022MsgId'', [B@4152d9f2], [''iso20022OrgMsgId'', [B@456d4500], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910308071220011234, remitinfo=remitinfo, benaccaddr=[[B@6fd3c9], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9103, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@666f8b1a], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,852 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,852 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@31a5536c
2017-11-28 15:49:44,852 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,868 DEBUG Thread-38 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,915 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002054826000000000000151826000000000000252826000000000000353], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910308071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9103], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [orgaccaddr]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,915 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002054826000000000000151826000000000000252826000000000000353, additionalInfo=[[''iso20022OrgMsgType'', [B@5f2c349e], [''iso20022MsgId'', [B@5b13bba3], [''iso20022OrgMsgId'', [B@1e113ea5], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910308071220011234, remitinfo=remitinfo, benaccaddr=[[B@11f318fc], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9103, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@2f454698], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:44,931 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">2.52</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">3.53</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:44,931 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@694d3e70
2017-11-28 15:49:44,931 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">2.52</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">3.53</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>orgaccaddr</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">2.52</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><ChrgsInf><ChrgsAmt Ccy="GBP">3.53</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:44,931 DEBUG Thread-74 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:44,993 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910308071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9103], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [orgaccaddr]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:44,993 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@53562f9e], [''iso20022MsgId'', [B@766994d5], [''iso20022OrgMsgId'', [B@5f901c5e], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910308071220011234, remitinfo=remitinfo, benaccaddr=[[B@2a1a04e4], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9103, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@4852e4e6], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,009 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,009 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@72270e05
2017-11-28 15:49:45,009 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>remitinfo</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>orgaccaddr</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>refinfo</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>benaccname</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*********</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>**********</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>**********</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,009 DEBUG Thread-42 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,071 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', Name <> name], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910308071220011234], ['remitinfo', >"<], ['benaccaddr', [GB]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', &<>], ['mtid', 9103], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,071 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=Name <> name, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=826, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@985d860], [''iso20022MsgId'', [B@1549ed89], [''iso20022OrgMsgId'', [B@768505b5], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910308071220011234, remitinfo=>"<, benaccaddr=[[B@1b2509a5], orgaccno=12345678, proasync=1, refinfo=&<>, mtid=9103, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@3c449479], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,087 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>**************</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*************</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>******************</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,087 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@663b13dd
2017-11-28 15:49:45,087 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>&gt;&quot;&lt;</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>orgaccname</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>GB</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>&amp;&lt;&gt;</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id><Nm>Name &lt;&gt; name</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910320140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><OrgnlGrpInf><OrgnlMsgId>910320140807122001123456</OrgnlMsgId><OrgnlMsgNmId>pacs.004.001.01</OrgnlMsgNmId><RtrRsnInf><RtrRsn><Prtry>4021</Prtry></RtrRsn></RtrRsnInf></OrgnlGrpInf><TxInf><OrgnlTxId>910308071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>234567890.1</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">20.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>**************</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>regreport</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp><Nm>**********</Nm></DbtrAcct><DbtrAgt><FinInstnId><BIC>AAAAAAAA</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>**</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>*************</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>******************</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,087 DEBUG Thread-54 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,149 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', 123456], ['amountSettlement', 1000], ['conversionRateBilling', 12345678901], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['benaccname', benaccname], ['settcycle', 001], ['benaccno', 12345678], ['orgaccname', orgaccname], ['submember', 0102], ['currencyCodeAmountSettlement', FOO], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['procasync', 1], ['sndfpinst', 654321], ['currencyCodeAmountTransaction', 826], ['amountTransaction', 2000], ['msgid', 910308071220011234], ['remitinfo', remitinfo], ['benaccaddr', [GBA]], ['orgaccno', 12345678], ['proasync', 1], ['refinfo', refinfo], ['mtid', 9103], ['orgcredinst', AAAAAAAA], ['regreport', regreport], ['orgaccaddr', [orgaccaddr]], ['rettxid', 12345678], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,149 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=123456, amountSettlement=1000, conversionRateBilling=12345678901, dateSettlement=2015-11-10, rcvmember=1112, benaccname=benaccname, settcycle=001, benaccno=12345678, orgaccname=orgaccname, submember=0102, currencyCodeAmountSettlement=FOO, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022OrgMsgType'', [B@67b6ecf6], [''iso20022MsgId'', [B@33d3ba4a], [''iso20022OrgMsgId'', [B@3685806f], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, procasync=1, sndfpinst=654321, currencyCodeAmountTransaction=826, amountTransaction=2000, msgid=910308071220011234, remitinfo=remitinfo, benaccaddr=[[B@56795dcc], orgaccno=12345678, proasync=1, refinfo=refinfo, mtid=9103, orgcredinst=AAAAAAAA, regreport=regreport, orgaccaddr=[[B@6f8caa9], rettxid=12345678, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,149 ERROR Thread-29 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,149 ERROR Thread-29 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,149 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:45,149 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:45,149 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:45,165 DEBUG Thread-29 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,227 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 987654], ['payretcode', 12345678], ['msgid', 910308071220011234], ['bencredinst', 123456], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', 12345678], ['rcvmember', 1112], ['mtid', 9103], ['settcycle', 001], ['benaccno', 12345678], ['orgcredinst', AAAAAAAA], ['submember', 0102], ['currencyCodeAmountSettlement', 826], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.004.001.01], [''iso20022MsgId'', 910320140807122001123456], [''iso20022OrgMsgId'', 910320140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,227 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=987654, payretcode=12345678, msgid=910308071220011234, bencredinst=123456, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=12345678, rcvmember=1112, mtid=9103, settcycle=001, benaccno=12345678, orgcredinst=AAAAAAAA, submember=0102, currencyCodeAmountSettlement=826, additionalInfo=[[''iso20022OrgMsgType'', [B@c24bb05], [''iso20022MsgId'', [B@2f6bfe7b], [''iso20022OrgMsgId'', [B@2ec5119e], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,227 ERROR Thread-67 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: No message schema found for given raw message.
	at com.vocalink.ips.transformation.impl.iso20022.MessageSchemaResolverOutImpl.getMessageFormat(MessageSchemaResolverOutImpl.java:63)
	at com.vocalink.ips.transformation.impl.iso20022.MessageSchemaResolverOutImpl.resolveSchema(MessageSchemaResolverOutImpl.java:36)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.toDraftMessage(AbstractIpsMessageToIso20022MessageTransformer.java:53)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:82)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,227 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:45,227 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:45,227 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:45,227 DEBUG Thread-67 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,367 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,367 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@7a164982], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,383 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,383 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6b9cebf0
2017-11-28 15:49:45,383 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91011BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,383 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,461 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 001000], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,461 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=001000, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@72fddc64], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,477 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,477 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@426fee05
2017-11-28 15:49:45,477 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91011BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,508 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,555 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 0010030020030010], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,555 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=0010030020030010, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@7e065481], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,555 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,555 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@20d3e951
2017-11-28 15:49:45,555 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91011BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,570 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,648 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 0030010], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,648 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=0030010, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@5971bb61], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,664 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,664 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5f31a1b6
2017-11-28 15:49:45,664 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91011BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,664 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 001003002], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=001003002, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@77d1c764], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3fdd680e
2017-11-28 15:49:45,758 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91011BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,758 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,827 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', BOFASGS5], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['conversionRateBilling', 901000000001], ['rcvmember', 12345678], ['benaccname', Bank], ['settcycle', 001], ['numref', 0001], ['benaccno', 47166400], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['sndfpinst', BOFASGS5], ['procasync', 1], ['currencyCodeAmountTransaction', 826], ['msgid', 91011BFF0000000001], ['amountTransaction', 1000], ['remitinfo', fhfdg], ['benaccaddr', [bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb]], ['orgaccno', 47166400], ['refinfo', GHFfdg], ['mtid', 9101], ['e2eref', 91011BFF0000000001], ['orgcredinst', BOFASGS5], ['regreport', XXXX], ['rettxid', 12345678], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,829 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=BOFASGS5, amountSettlement=1000, dateSettlement=2015-11-10, conversionRateBilling=901000000001, rcvmember=12345678, benaccname=Bank, settcycle=001, numref=0001, benaccno=47166400, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@a10c581], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, sndfpinst=BOFASGS5, procasync=1, currencyCodeAmountTransaction=826, msgid=91011BFF0000000001, amountTransaction=1000, remitinfo=fhfdg, benaccaddr=[[B@4bdb76ce], orgaccno=47166400, refinfo=GHFfdg, mtid=9101, e2eref=91011BFF0000000001, orgcredinst=BOFASGS5, regreport=XXXX, rettxid=12345678, orgaccaddr=[[B@46ec8f2f], dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,863 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>1.000000001</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">10.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*****</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp><RfrdDocNb>0001</RfrdDocNb></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>XXXX</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>****</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:45,863 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@42ae2812
2017-11-28 15:49:45,863 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91011BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>1.000000001</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">10.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>fhfdg</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp><RfrdDocNb>0001</RfrdDocNb></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>XXXX</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>47166400</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>GHFfdg</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>47166400</Id></PrtryAcct></Id><Nm>Bank</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91011BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>1.000000001</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">10.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*****</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp><RfrdDocNb>0001</RfrdDocNb></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>XXXX</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>****</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:45,863 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,957 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', BOFASGS5], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['conversionRateBilling', 901000000001], ['rcvmember', 12345678], ['benaccname', Bank], ['settcycle', 001], ['numref', 0001], ['benaccno', 47166400], ['currencyCodeAmountSettlement', FOO], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['sndfpinst', BOFASGS5], ['procasync', 1], ['currencyCodeAmountTransaction', 826], ['msgid', 91011BFF0000000001], ['amountTransaction', 1000], ['remitinfo', fhfdg], ['benaccaddr', [bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb]], ['orgaccno', 47166400], ['refinfo', GHFfdg], ['mtid', 9101], ['e2eref', 91011BFF0000000001], ['orgcredinst', BOFASGS5], ['regreport', XXXX], ['rettxid', 12345678], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:45,957 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=BOFASGS5, amountSettlement=1000, dateSettlement=2015-11-10, conversionRateBilling=901000000001, rcvmember=12345678, benaccname=Bank, settcycle=001, numref=0001, benaccno=47166400, currencyCodeAmountSettlement=FOO, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@1546a225], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, sndfpinst=BOFASGS5, procasync=1, currencyCodeAmountTransaction=826, msgid=91011BFF0000000001, amountTransaction=1000, remitinfo=fhfdg, benaccaddr=[[B@6d814d61], orgaccno=47166400, refinfo=GHFfdg, mtid=9101, e2eref=91011BFF0000000001, orgcredinst=BOFASGS5, regreport=XXXX, rettxid=12345678, orgaccaddr=[[B@5d5e0ff3], dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:45,957 ERROR Thread-46 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,957 ERROR Thread-46 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:45,957 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:45,957 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:45,957 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:45,957 DEBUG Thread-46 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,035 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 001], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,035 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=001, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@4487844c], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,035 ERROR Thread-58 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <null> for field paydataAccountType,<null> for field paydataSubType,<null> for field paydataTransactionType,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,035 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,035 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,035 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,035 DEBUG Thread-58 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,081 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 001ABC], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,081 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=001ABC, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@38cd1a02], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,081 ERROR Thread-54 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <For input string: "ABC"> for field paydataAccountType,<For input string: "ABC"> for field paydataSubType,<For input string: "ABC"> for field paydataTransactionType,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,097 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,097 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,097 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,097 DEBUG Thread-54 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,144 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 00109912], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,144 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=00109912, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@28d731d6], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,144 ERROR Thread-29 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Expect size 99 extract 2
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Expect size 99 extract 2
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.readNextFromInputStream(FieldSchemaOut.java:742)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.readNextValueFromInputStream(FieldSchemaOut.java:751)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubFieldFromInputStream(FieldSchemaOut.java:728)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubField(FieldSchemaOut.java:720)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:766)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:692)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,144 ERROR Thread-29 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [paydataSubType] failed validation:Expect size 99 extract 2
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,144 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,144 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,144 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,159 DEBUG Thread-29 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,206 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91011BFF0000000001], ['paydata', 001099], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9101], ['settcycle', 001], ['e2eref', 91011BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,206 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91011BFF0000000001, paydata=001099, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9101, settcycle=001, e2eref=91011BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@3474bc5d], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,206 ERROR Thread-41 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Expect size 99 extract 0
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Expect size 99 extract 0
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.readNextValueFromInputStream(FieldSchemaOut.java:755)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubFieldFromInputStream(FieldSchemaOut.java:728)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubField(FieldSchemaOut.java:720)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:766)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:692)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,206 ERROR Thread-41 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [paydataSubType] failed validation:Expect size 99 extract 0
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,206 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,206 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,206 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,206 DEBUG Thread-41 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,300 TRACE Thread-51 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,300 TRACE Thread-51 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@4a999d1a], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,300 TRACE Thread-51 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:46,300 TRACE Thread-51 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@445e7a39
2017-11-28 15:49:46,300 TRACE Thread-51 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91001BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:46,300 DEBUG Thread-51 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,363 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 001000], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,363 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=001000, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@3f5e6430], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,363 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:46,363 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@31998dab
2017-11-28 15:49:46,363 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91001BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:46,363 DEBUG Thread-47 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,410 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 0010030020030010], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,410 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=0010030020030010, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@3106ee67], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,410 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:46,410 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@37741fd4
2017-11-28 15:49:46,410 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91001BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:46,410 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,472 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 0030010], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,472 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=0030010, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@6c8bc01a], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,472 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:46,472 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@579c1d87
2017-11-28 15:49:46,472 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91001BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id><Tp><Prtry>0</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:46,488 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,535 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 001003002], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,535 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=001003002, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@6d1171c], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,550 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:46,550 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@242cd992
2017-11-28 15:49:46,550 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91001BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>AB00AB</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>AB00AB</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><RfrdDocInf><RfrdDocTp><Prtry>002</Prtry></RfrdDocTp></RfrdDocInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><DbtrAcct><Id><IBAN>******</IBAN></Id></DbtrAcct><DbtrAgt><FinInstnId><ClrSysMmbId><Prtry>654323</Prtry></ClrSysMmbId></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><ClrSysMmbId><Prtry>654322</Prtry></ClrSysMmbId></FinInstnId></CdtrAgt><CdtrAcct><Id><IBAN>******</IBAN></Id></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:46,550 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,613 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', BOFASGS5], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['conversionRateBilling', 901000000001], ['rcvmember', 12345678], ['benaccname', Bank], ['settcycle', 001], ['numref', 0001], ['benaccno', 47166400], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['fileid', FOO], ['sndfpinst', BOFASGS5], ['procasync', 1], ['currencyCodeAmountTransaction', 826], ['msgid', 91001BFF0000000001], ['amountTransaction', 1000], ['remitinfo', fhfdg], ['benaccaddr', [bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb]], ['orgaccno', 47166400], ['refinfo', GHFfdg], ['mtid', 9100], ['e2eref', 91001BFF0000000001], ['orgcredinst', BOFASGS5], ['regreport', XXXX], ['rettxid', 12345678], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,613 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=BOFASGS5, amountSettlement=1000, dateSettlement=2015-11-10, conversionRateBilling=901000000001, rcvmember=12345678, benaccname=Bank, settcycle=001, numref=0001, benaccno=47166400, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@24c0265d], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, fileid=FOO, sndfpinst=BOFASGS5, procasync=1, currencyCodeAmountTransaction=826, msgid=91001BFF0000000001, amountTransaction=1000, remitinfo=fhfdg, benaccaddr=[[B@5bd8821c], orgaccno=47166400, refinfo=GHFfdg, mtid=9100, e2eref=91001BFF0000000001, orgcredinst=BOFASGS5, regreport=XXXX, rettxid=12345678, orgaccaddr=[[B@7998276f], dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,628 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>1.000000001</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">10.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*****</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp><RfrdDocNb>0001</RfrdDocNb></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>XXXX</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>****</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:46,628 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@414a4af5
2017-11-28 15:49:46,628 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>91001BFF0000000001</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>1.000000001</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">10.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>fhfdg</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp><RfrdDocNb>0001</RfrdDocNb></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>XXXX</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>47166400</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>GHFfdg</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>47166400</Id></PrtryAcct></Id><Nm>Bank</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>910020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>345678</Id><Issr>12</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>******************</OrgnlEndToEndId><OrgnlTxId>91001BFF0000000001</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><XchgRate>1.000000001</XchgRate><ChrgBr>CRED</ChrgBr><ChrgsInf><ChrgsAmt Ccy="GBP">1.51</ChrgsAmt><ChrgsPty><FinInstnId><PrtryId><Id>SND</Id></PrtryId></FinInstnId></ChrgsPty></ChrgsInf><InstgAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><Amt><InstdAmt Ccy="GBP">10.00</InstdAmt></Amt><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Ustrd>*****</Ustrd><Strd><RfrdDocInf><RfrdDocTp><Prtry>123</Prtry></RfrdDocTp><RfrdDocNb>0001</RfrdDocNb></RfrdDocInf><CdtrRefInf><CdtrRefTp><Prtry>456</Prtry><Issr>1</Issr></CdtrRefTp><CdtrRef>FOO</CdtrRef></CdtrRefInf><AddtlRmtInf>XXXX</AddtlRmtInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><Dbtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr></Dbtr><DbtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Tp><Prtry>7</Prtry></Tp></DbtrAcct><DbtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></DbtrAgt><CdtrAgt><FinInstnId><BIC>BOFASGS5</BIC></FinInstnId></CdtrAgt><Cdtr><PstlAdr><AdrLine>***********************************</AdrLine><Ctry>GB</Ctry></PstlAdr><Id><PrvtId><OthrId><Id>******</Id><IdTp>X</IdTp></OthrId></PrvtId></Id></Cdtr><CdtrAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id><Nm>****</Nm></CdtrAcct><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:46,628 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,691 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['processingCode', 201020], ['payretcode', 12345678], ['paydata', 0010031230020034560030017], ['bencredinst', BOFASGS5], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['conversionRateBilling', 901000000001], ['rcvmember', 12345678], ['benaccname', Bank], ['settcycle', 001], ['numref', 0001], ['benaccno', 47166400], ['currencyCodeAmountSettlement', FOO], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['actionCode', 4021], ['sndfpinst', BOFASGS5], ['procasync', 1], ['currencyCodeAmountTransaction', 826], ['msgid', 91001BFF0000000001], ['amountTransaction', 1000], ['remitinfo', fhfdg], ['benaccaddr', [bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb]], ['orgaccno', 47166400], ['refinfo', GHFfdg], ['mtid', 9100], ['e2eref', 91001BFF0000000001], ['orgcredinst', BOFASGS5], ['regreport', XXXX], ['rettxid', 12345678], ['orgaccaddr', [aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa]], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,691 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {processingCode=201020, payretcode=12345678, paydata=0010031230020034560030017, bencredinst=BOFASGS5, amountSettlement=1000, dateSettlement=2015-11-10, conversionRateBilling=901000000001, rcvmember=12345678, benaccname=Bank, settcycle=001, numref=0001, benaccno=47166400, currencyCodeAmountSettlement=FOO, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@355dbaf2], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], actionCode=4021, sndfpinst=BOFASGS5, procasync=1, currencyCodeAmountTransaction=826, msgid=91001BFF0000000001, amountTransaction=1000, remitinfo=fhfdg, benaccaddr=[[B@4f5a8d16], orgaccno=47166400, refinfo=GHFfdg, mtid=9100, e2eref=91001BFF0000000001, orgcredinst=BOFASGS5, regreport=XXXX, rettxid=12345678, orgaccaddr=[[B@36c9897e], dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,691 ERROR Thread-60 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,691 ERROR Thread-60 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,691 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,691 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,691 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,691 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,738 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 001], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,738 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=001, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@4e9ed10b], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,753 ERROR Thread-30 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <null> for field paydataAccountType,<null> for field paydataSubType,<null> for field paydataTransactionType,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,753 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,753 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,753 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,753 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,840 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 001ABC], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,840 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=001ABC, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@1e4f551d], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,840 ERROR Thread-38 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <For input string: "ABC"> for field paydataAccountType,<For input string: "ABC"> for field paydataSubType,<For input string: "ABC"> for field paydataTransactionType,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,840 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,840 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,840 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,840 DEBUG Thread-38 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,922 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 00109912], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:46,922 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=00109912, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@21e21c57], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:46,922 ERROR Thread-34 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Expect size 99 extract 2
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Expect size 99 extract 2
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.readNextFromInputStream(FieldSchemaOut.java:742)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.readNextValueFromInputStream(FieldSchemaOut.java:751)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubFieldFromInputStream(FieldSchemaOut.java:728)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubField(FieldSchemaOut.java:720)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:766)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:692)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,922 ERROR Thread-34 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [paydataSubType] failed validation:Expect size 99 extract 2
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:46,922 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:46,922 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:46,922 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:46,938 DEBUG Thread-34 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,000 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 91001BFF0000000001], ['paydata', 001099], ['bencredinst', 654322], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['orgaccno', AB00AB], ['rcvmember', 12345678], ['mtid', 9100], ['settcycle', 001], ['e2eref', 91001BFF0000000001], ['benaccno', AB00AB], ['orgcredinst', 654323], ['currencyCodeAmountSettlement', 826], ['submember', 12345678], ['chgdata', 001003BEN002018826000000000000151], ['additionalInfo', [[''iso20022MsgId'', 910020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:47,000 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=91001BFF0000000001, paydata=001099, bencredinst=654322, amountSettlement=1000, dateSettlement=2015-11-10, orgaccno=AB00AB, rcvmember=12345678, mtid=9100, settcycle=001, e2eref=91001BFF0000000001, benaccno=AB00AB, orgcredinst=654323, currencyCodeAmountSettlement=826, submember=12345678, chgdata=001003BEN002018826000000000000151, additionalInfo=[[''iso20022MsgId'', [B@2d0a9ef3], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:47,000 ERROR Thread-42 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Expect size 99 extract 0
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Expect size 99 extract 0
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.readNextValueFromInputStream(FieldSchemaOut.java:755)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubFieldFromInputStream(FieldSchemaOut.java:728)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parseSubField(FieldSchemaOut.java:720)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:766)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$TagLengthType.parse(FieldSchemaOut.java:692)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:102)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,000 ERROR Thread-42 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [paydataSubType] failed validation:Expect size 99 extract 0
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,000 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:47,000 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:47,000 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:47,000 DEBUG Thread-42 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,172 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:47,172 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@7b8e5e98], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:47,187 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:47,187 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6a0993e0
2017-11-28 15:49:47,187 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:47,187 DEBUG Thread-41 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,281 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:47,281 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@7516a30a], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:47,297 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:47,297 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7439cc52
2017-11-28 15:49:47,297 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:47,297 DEBUG Thread-39 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,390 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:47,390 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@4c6a25d4], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:47,390 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:47,390 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5c09ceb5
2017-11-28 15:49:47,390 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:47,406 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,485 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:47,485 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@792e745e], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:47,485 ERROR Thread-56 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,485 ERROR Thread-56 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,485 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:47,485 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:47,485 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:47,485 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,658 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:47,658 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@55830d34], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:47,673 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:47,673 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4279cab6
2017-11-28 15:49:47,673 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:47,673 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,751 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:47,751 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@5e63b310], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:47,767 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:47,767 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7cd4ca04
2017-11-28 15:49:47,767 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:47,767 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,829 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:47,829 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@60402c86], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:47,845 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:47,845 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@7a6d4ccf
2017-11-28 15:49:47,845 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:47,845 DEBUG Thread-38 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,923 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:47,923 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@2624e638], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:47,923 ERROR Thread-34 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,923 ERROR Thread-34 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:47,923 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:47,923 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:47,923 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:47,923 DEBUG Thread-34 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,032 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:48,032 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@4a4072ac], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:48,048 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,048 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4e7fef3c
2017-11-28 15:49:48,048 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,048 DEBUG Thread-58 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,110 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,110 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@b96549f], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,110 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,110 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@1369eec8
2017-11-28 15:49:48,110 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,126 DEBUG Thread-54 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,172 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,172 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@32cb5a5b], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,172 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,172 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@2e40f6f3
2017-11-28 15:49:48,172 TRACE Thread-29 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,172 DEBUG Thread-29 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,235 TRACE Thread-61 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,235 TRACE Thread-61 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@14ca5471], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,235 ERROR Thread-61 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,235 ERROR Thread-61 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,235 TRACE Thread-61 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:48,235 TRACE Thread-61 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:48,235 TRACE Thread-61 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:48,235 DEBUG Thread-61 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,391 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:48,391 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@30d946d2], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:48,391 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,391 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3537a95f
2017-11-28 15:49:48,391 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,391 DEBUG Thread-63 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,469 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@41a2b291], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@731b31af
2017-11-28 15:49:48,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,484 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,562 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,562 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@68c233ca], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,562 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,562 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5764d6e2
2017-11-28 15:49:48,562 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920020140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,562 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,640 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9200], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920020140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,640 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9200, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@641d7e4f], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,640 ERROR Thread-64 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,640 ERROR Thread-64 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,640 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:48,640 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:48,640 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:48,640 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,734 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:48,734 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@4f098334], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:48,734 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,734 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@77a70557
2017-11-28 15:49:48,734 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,734 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,797 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,797 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@61484edd], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,800 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,801 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@54b1854
2017-11-28 15:49:48,801 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,806 DEBUG Thread-38 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,890 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,890 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@701734e0], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,906 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:48,906 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@d053aed
2017-11-28 15:49:48,906 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:48,922 DEBUG Thread-34 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,984 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 201020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:48,984 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=201020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@2eb532dc], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:48,984 ERROR Thread-46 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,984 ERROR Thread-46 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:48,984 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:48,984 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:48,984 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:48,984 DEBUG Thread-46 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,109 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:49,109 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@68d15406], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:49,124 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,124 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5803d06e
2017-11-28 15:49:49,124 TRACE Thread-44 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,140 DEBUG Thread-44 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,187 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:49,187 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@4abfc44e], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:49,202 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,202 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@12d2578b
2017-11-28 15:49:49,202 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,218 DEBUG Thread-41 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,280 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:49,280 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@38539304], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:49,280 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,280 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@201f2dcc
2017-11-28 15:49:49,280 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>20</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,296 DEBUG Thread-25 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,358 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 202020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:49,358 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=202020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@35a60f40], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:49,358 ERROR Thread-47 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,358 ERROR Thread-47 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,358 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:49,358 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:49,358 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:49,358 DEBUG Thread-47 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,483 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:49,483 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@44dc7a6e], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:49,499 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,499 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4eda7a2f
2017-11-28 15:49:49,499 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,499 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,577 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:49,577 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@7b4ac8b2], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:49,577 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,577 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@43513beb
2017-11-28 15:49:49,577 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,592 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,655 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:49,655 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@1607cb2b], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:49,670 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,670 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4469e44c
2017-11-28 15:49:49,670 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,670 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,733 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 251020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:49,733 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=251020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@349fc380], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:49,733 ERROR Thread-30 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,733 ERROR Thread-30 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,733 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:49,733 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:49,733 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:49,733 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,874 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:49,874 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@3c349fbe], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:49,874 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,874 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3d20ab26
2017-11-28 15:49:49,874 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,874 DEBUG Thread-34 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:49,968 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:49,968 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@7e3ec1ea], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:49,968 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:49,968 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@77031229
2017-11-28 15:49:49,968 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:49,984 DEBUG Thread-74 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,046 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:50,046 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=826, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@b7d7897], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:50,046 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>
2017-11-28 15:49:50,046 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@73a02850
2017-11-28 15:49:50,046 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>, [['logmessage', <pacs.004.001.01><GrpHdr><MsgId>920120140807122001123456</MsgId><CreDtTm>2015-11-12T16:45:00</CreDtTm><NbOfTxs>1</NbOfTxs><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>02</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>12</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf></GrpHdr><TxInf><OrgnlEndToEndId>942008071220011234</OrgnlEndToEndId><OrgnlTxId>942008071220011234</OrgnlTxId><RtrdIntrBkSttlmAmt Ccy="GBP">10.00</RtrdIntrBkSttlmAmt><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><RtrRsnInf><RtrRsn><Prtry>12345678</Prtry></RtrRsn><AddtlRtrRsnInf>12345678</AddtlRtrRsnInf></RtrRsnInf><OrgnlTxRef><ReqdExctnDt>2015-11-12</ReqdExctnDt><PmtTpInf><LclInstrm><Prtry>25</Prtry></LclInstrm></PmtTpInf><RmtInf><Strd><CdtrRefInf><CdtrRef>FOO</CdtrRef></CdtrRefInf></Strd></RmtInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.004.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,062 DEBUG Thread-58 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,124 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 252020], ['payretcode', 12345678], ['msgid', 942008071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['proasync', 1], ['rcvmember', 1112], ['mtid', 9201], ['settcycle', 001], ['currencyCodeAmountSettlement', FOO], ['submember', 0102], ['additionalInfo', [[''iso20022MsgId'', 920120140807122001123456], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]]], ['agaccno', 12345678], ['rettxid', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z], ['fileid', FOO]]]]
2017-11-28 15:49:50,124 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=252020, payretcode=12345678, msgid=942008071220011234, amountSettlement=1000, dateSettlement=2015-11-10, proasync=1, rcvmember=1112, mtid=9201, settcycle=001, currencyCodeAmountSettlement=FOO, submember=0102, additionalInfo=[[''iso20022MsgId'', [B@79814ed4], [''iso20022CreateDateTime'', 2015-11-12T16:45:00Z]], agaccno=12345678, rettxid=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z, fileid=FOO}
2017-11-28 15:49:50,124 ERROR Thread-26 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,124 ERROR Thread-26 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,124 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:50,124 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:50,124 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:50,124 DEBUG Thread-26 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,328 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 11122222], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,328 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=11122222, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@70a48790], [''iso20022MsgId'', [B@3c971250], [''iso20022OrgMsgId'', [B@419e34bc]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,343 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>122222</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,343 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@4447ffc0
2017-11-28 15:49:50,343 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>122222</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>122222</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,343 DEBUG Thread-47 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,406 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', SNDFPI2NABC], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 11123333], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,406 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=SNDFPI2NABC, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=11123333, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@18c14f1d], [''iso20022MsgId'', [B@2d9d4a35], [''iso20022OrgMsgId'', [B@57887682]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,421 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPI2NABC</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>123333</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,421 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5f7d407d
2017-11-28 15:49:50,421 TRACE Thread-63 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPI2NABC</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>123333</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPI2NABC</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>123333</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,421 DEBUG Thread-63 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', SNDFPS22], ['processingCode', 101020], ['msgid', TRN0123456789], ['amountSettlement', 555500], ['dateSettlement', 20160606], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 003], ['currencyCodeAmountSettlement', 826], ['submember', 00000102], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.006.001.01], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 942020161103154152TRT00000000000001]]], ['agaccno', 12345678], ['actionCode', 0000], ['dateLocalTransaction', 2016-11-03T00:00:00Z]]]]
2017-11-28 15:49:50,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=SNDFPS22, processingCode=101020, msgid=TRN0123456789, amountSettlement=555500, dateSettlement=20160606, rcvmember=00000201, mtid=9421, settcycle=003, currencyCodeAmountSettlement=826, submember=00000102, additionalInfo=[[''iso20022OrgMsgType'', [B@1a386f5f], [''iso20022MsgId'', [B@3084b3fe], [''iso20022OrgMsgId'', [B@172cb08a]], agaccno=12345678, actionCode=0000, dateLocalTransaction=2016-11-03T00:00:00Z}
2017-11-28 15:49:50,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>942020161103154152TRT00000000000001</OrgnlMsgId><OrgnlMsgNmId>pacs.006.001.01</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>TRN0123456789</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">5555.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPS22</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>0000</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2016-06-06</IntrBkSttlmDt><ReqdExctnDt>2016-11-03</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>003</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>000102</Id><Issr>00</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@a3aab42
2017-11-28 15:49:50,484 TRACE Thread-56 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>942020161103154152TRT00000000000001</OrgnlMsgId><OrgnlMsgNmId>pacs.006.001.01</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>TRN0123456789</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">5555.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPS22</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>0000</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2016-06-06</IntrBkSttlmDt><ReqdExctnDt>2016-11-03</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>003</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>000102</Id><Issr>00</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>942020161103154152TRT00000000000001</OrgnlMsgId><OrgnlMsgNmId>pacs.006.001.01</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>TRN0123456789</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">5555.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPS22</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>0000</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2016-06-06</IntrBkSttlmDt><ReqdExctnDt>2016-11-03</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>003</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>000102</Id><Issr>00</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,484 DEBUG Thread-56 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,546 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 9421080712200112345], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,546 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=9421080712200112345, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@590352e5], [''iso20022MsgId'', [B@1b21e01e], [''iso20022OrgMsgId'', [B@6284dcd3]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,546 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>9421080712200112345</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,546 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@13a6d5a7
2017-11-28 15:49:50,546 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>9421080712200112345</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>9421080712200112345</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,562 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,609 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,609 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@94eab58], [''iso20022MsgId'', [B@56eecbd], [''iso20022OrgMsgId'', [B@2d1831a8]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,609 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,609 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@2658ebc3
2017-11-28 15:49:50,609 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,624 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,671 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 01], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,671 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=01, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@62800ab1], [''iso20022MsgId'', [B@3a52b639], [''iso20022OrgMsgId'', [B@21fbae58]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,671 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,671 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5b035160
2017-11-28 15:49:50,671 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,702 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,733 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 99999999999999], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,733 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=99999999999999, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@6e41bbfd], [''iso20022MsgId'', [B@6dd29522], [''iso20022OrgMsgId'', [B@2210a872]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,749 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">999999999999.99</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,749 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@68d9ec73
2017-11-28 15:49:50,749 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">999999999999.99</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">999999999999.99</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,765 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,797 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 00000000000009], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,797 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=00000000000009, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@640e3067], [''iso20022MsgId'', [B@7415131d], [''iso20022OrgMsgId'', [B@570895e4]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,797 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.09</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,797 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@a5cbee9
2017-11-28 15:49:50,797 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.09</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.09</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,799 DEBUG Thread-38 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,873 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', asd], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,873 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=asd, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@74592856], [''iso20022MsgId'', [B@50afb662], [''iso20022OrgMsgId'', [B@48fe0aa6]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,873 ERROR Thread-34 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <For input string: "asd"> for field amountSettlement,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,873 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:50,873 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:50,873 TRACE Thread-34 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:50,873 DEBUG Thread-34 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,904 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 000], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,904 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=000, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@72f7fbd7], [''iso20022MsgId'', [B@7249f547], [''iso20022OrgMsgId'', [B@7a705b75]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,920 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>000</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,920 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@150d9c48
2017-11-28 15:49:50,920 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>000</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>000</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,920 DEBUG Thread-74 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,951 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 999], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,951 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=999, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@e42eaa5], [''iso20022MsgId'', [B@69cf5449], [''iso20022OrgMsgId'', [B@4443ff14]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,967 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>999</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,967 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@43e70692
2017-11-28 15:49:50,967 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>999</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>999</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:50,967 DEBUG Thread-46 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:50,998 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 0001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:50,998 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=0001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@46dd0794], [''iso20022MsgId'', [B@6767dbb4], [''iso20022OrgMsgId'', [B@174f0853]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:50,998 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>0001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:50,998 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@b4f63df
2017-11-28 15:49:50,998 TRACE Thread-70 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>0001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:50</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>0001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,014 DEBUG Thread-70 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,060 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 4]]]]
2017-11-28 15:49:51,060 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@574d8292], [''iso20022MsgId'', [B@8672949], [''iso20022OrgMsgId'', [B@427a5966]], agaccno=12345678, actionCode=4021, dateLocalTransaction=4}
2017-11-28 15:49:51,060 ERROR Thread-42 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <Value of canonical format must be of an Instant type, but was class java.lang.String> for field dateLocalTransaction,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,060 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,060 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,060 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:51,060 DEBUG Thread-42 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,092 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 123456789]]]]
2017-11-28 15:49:51,092 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@73009ab2], [''iso20022MsgId'', [B@7dc76aa2], [''iso20022OrgMsgId'', [B@79f8f1c2]], agaccno=12345678, actionCode=4021, dateLocalTransaction=123456789}
2017-11-28 15:49:51,092 ERROR Thread-50 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <Value of canonical format must be of an Instant type, but was class java.lang.String> for field dateLocalTransaction,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,092 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,092 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,092 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:51,107 DEBUG Thread-50 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,138 TRACE Thread-72 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,138 TRACE Thread-72 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@75d8c2d1], [''iso20022MsgId'', [B@7b1f321a], [''iso20022OrgMsgId'', [B@7f20a9a1]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,138 TRACE Thread-72 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,138 TRACE Thread-72 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3a223821
2017-11-28 15:49:51,138 TRACE Thread-72 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,138 DEBUG Thread-72 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,185 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 444], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,185 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=444, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@5c228a9], [''iso20022MsgId'', [B@4e8494c2], [''iso20022OrgMsgId'', [B@6c2f3a01]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,185 ERROR Thread-45 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,185 ERROR Thread-45 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,185 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,185 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,185 TRACE Thread-45 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:51,185 DEBUG Thread-45 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,216 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 123], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,216 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@1ba1a1d7], [''iso20022MsgId'', [B@3d11b7d0], [''iso20022OrgMsgId'', [B@9b88988]], agaccno=12345678, actionCode=123, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,216 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>123</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,216 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@9d6f93b
2017-11-28 15:49:51,216 TRACE Thread-41 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>123</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>123</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,216 DEBUG Thread-41 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,248 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 12345], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,248 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@f42fcb9], [''iso20022MsgId'', [B@1851321], [''iso20022OrgMsgId'', [B@5ba97c9]], agaccno=12345678, actionCode=12345, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,263 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>12345</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,263 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@40b8191a
2017-11-28 15:49:51,263 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>12345</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>12345</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,263 DEBUG Thread-65 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,279 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 1], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,279 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=1, additionalInfo=[[''iso20022OrgMsgType'', [B@204736fe], [''iso20022MsgId'', [B@9924d60], [''iso20022OrgMsgId'', [B@79fae20f]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,294 ERROR Thread-67 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [submemberConnection] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,294 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,294 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,294 TRACE Thread-67 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:51,294 DEBUG Thread-67 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,326 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,326 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@381bd4d9], [''iso20022MsgId'', [B@224db648], [''iso20022OrgMsgId'', [B@62835ff8]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,326 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,326 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@586254a6
2017-11-28 15:49:51,326 TRACE Thread-39 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,341 DEBUG Thread-39 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,388 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 1], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,388 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=1, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@46b4d128], [''iso20022MsgId'', [B@32db5244], [''iso20022OrgMsgId'', [B@253af9b2]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,388 ERROR Thread-31 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [rcvmemberISCDCode] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,388 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,388 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,388 TRACE Thread-31 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:51,388 DEBUG Thread-31 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,419 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,419 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@5cfdc7b5], [''iso20022MsgId'', [B@523a325a], [''iso20022OrgMsgId'', [B@5605acc5]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,435 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,435 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@13073861
2017-11-28 15:49:51,435 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,435 DEBUG Thread-71 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,497 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 12345], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,497 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=12345, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@50f1394c], [''iso20022MsgId'', [B@44c4125c], [''iso20022OrgMsgId'', [B@622c53]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,497 ERROR Thread-32 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><BIC>12345</BIC></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,497 ERROR Thread-32 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 907; cvc-pattern-valid: Value '12345' is not facet-valid with respect to pattern '[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}' for type 'BICIdentifier'.:XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><BIC>12345</BIC></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.validateXSD(AbstractIpsMessageToIso20022MessageTransformer.java:161)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:89)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,497 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,497 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,497 TRACE Thread-32 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>94210807122001123], ['format', iso20022]]]]
2017-11-28 15:49:51,497 DEBUG Thread-32 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,560 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 1234567], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,560 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=1234567, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@505fdc96], [''iso20022MsgId'', [B@5fbf2fd4], [''iso20022OrgMsgId'', [B@729d63c9]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,560 ERROR Thread-64 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><BIC>1234567</BIC></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,560 ERROR Thread-64 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 909; cvc-pattern-valid: Value '1234567' is not facet-valid with respect to pattern '[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}' for type 'BICIdentifier'.:XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><BIC>1234567</BIC></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.validateXSD(AbstractIpsMessageToIso20022MessageTransformer.java:161)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:89)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,560 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,560 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,560 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>94210807122001123], ['format', iso20022]]]]
2017-11-28 15:49:51,560 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,622 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 12345], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,622 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=12345, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@5ab0803b], [''iso20022MsgId'', [B@284984d4], [''iso20022OrgMsgId'', [B@44b07504]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,638 ERROR Thread-36 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>12345</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,638 ERROR Thread-36 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 365; cvc-pattern-valid: Value '12345' is not facet-valid with respect to pattern '[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}' for type 'BICIdentifier'.:XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>12345</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.validateXSD(AbstractIpsMessageToIso20022MessageTransformer.java:161)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:89)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,638 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,638 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,638 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>94210807122001123], ['format', iso20022]]]]
2017-11-28 15:49:51,638 DEBUG Thread-36 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,684 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 1234567], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,684 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=1234567, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@39340d33], [''iso20022MsgId'', [B@16f88752], [''iso20022OrgMsgId'', [B@6a8d72bb]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,700 ERROR Thread-60 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>1234567</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,700 ERROR Thread-60 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
java.lang.IllegalArgumentException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 367; cvc-pattern-valid: Value '1234567' is not facet-valid with respect to pattern '[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}' for type 'BICIdentifier'.:XML file generated by transformer failed xsd validation. : <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>1234567</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.validateXSD(AbstractIpsMessageToIso20022MessageTransformer.java:161)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:89)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,700 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,700 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,700 TRACE Thread-60 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>94210807122001123], ['format', iso20022]]]]
2017-11-28 15:49:51,700 DEBUG Thread-60 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,747 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 101020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,747 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=101020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@ba42cc6], [''iso20022MsgId'', [B@7226c315], [''iso20022OrgMsgId'', [B@55d2a61b]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,747 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,747 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@72cf72a6
2017-11-28 15:49:51,747 TRACE Thread-30 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,747 DEBUG Thread-30 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,794 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 12345], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,794 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=12345, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@1f443acd], [''iso20022MsgId'', [B@43955fc3], [''iso20022OrgMsgId'', [B@50a155e0]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,794 ERROR Thread-38 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.ConversionMessageException: Mandatory field [processingCodePayType] is null.
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:107)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,794 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:51,794 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:51,794 TRACE Thread-38 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:51,809 DEBUG Thread-38 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,904 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 11122222], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,904 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=11122222, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@58e9e47d], [''iso20022MsgId'', [B@6537c1ea], [''iso20022OrgMsgId'', [B@1d6495ca]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,919 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>122222</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,919 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@6472b5f2
2017-11-28 15:49:51,919 TRACE Thread-74 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>122222</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>122222</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,919 DEBUG Thread-74 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:51,966 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', SNDFPI2NABC], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 11123333], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:51,966 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=SNDFPI2NABC, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=11123333, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@5a69cb89], [''iso20022MsgId'', [B@4997b191], [''iso20022OrgMsgId'', [B@12774ce8]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:51,982 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPI2NABC</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>123333</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:51,982 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@695f1ba2
2017-11-28 15:49:51,982 TRACE Thread-46 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPI2NABC</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>123333</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:51</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPI2NABC</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>123333</Id><Issr>11</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:51,982 DEBUG Thread-46 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,029 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', SNDFPS22], ['processingCode', 101020], ['msgid', TRN0123456789], ['amountSettlement', 555500], ['dateSettlement', 20160606], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 003], ['currencyCodeAmountSettlement', 826], ['submember', 00000102], ['additionalInfo', [[''iso20022OrgMsgType'', pacs.006.001.01], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 942020161103154152TRT00000000000001]]], ['agaccno', 12345678], ['actionCode', 0000], ['dateLocalTransaction', 2016-11-03T00:00:00Z]]]]
2017-11-28 15:49:52,029 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=SNDFPS22, processingCode=101020, msgid=TRN0123456789, amountSettlement=555500, dateSettlement=20160606, rcvmember=00000201, mtid=9421, settcycle=003, currencyCodeAmountSettlement=826, submember=00000102, additionalInfo=[[''iso20022OrgMsgType'', [B@3bfeaadc], [''iso20022MsgId'', [B@9ce623], [''iso20022OrgMsgId'', [B@3180aa18]], agaccno=12345678, actionCode=0000, dateLocalTransaction=2016-11-03T00:00:00Z}
2017-11-28 15:49:52,029 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>942020161103154152TRT00000000000001</OrgnlMsgId><OrgnlMsgNmId>pacs.006.001.01</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>TRN0123456789</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">5555.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPS22</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>0000</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2016-06-06</IntrBkSttlmDt><ReqdExctnDt>2016-11-03</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>003</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>000102</Id><Issr>00</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,029 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@21a17427
2017-11-28 15:49:52,029 TRACE Thread-42 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>942020161103154152TRT00000000000001</OrgnlMsgId><OrgnlMsgNmId>pacs.006.001.01</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>TRN0123456789</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">5555.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPS22</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>0000</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2016-06-06</IntrBkSttlmDt><ReqdExctnDt>2016-11-03</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>003</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>000102</Id><Issr>00</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>942020161103154152TRT00000000000001</OrgnlMsgId><OrgnlMsgNmId>pacs.006.001.01</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>TRN0123456789</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">5555.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><BIC>SNDFPS22</BIC></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>0000</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2016-06-06</IntrBkSttlmDt><ReqdExctnDt>2016-11-03</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>003</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>000102</Id><Issr>00</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>10</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,029 DEBUG Thread-42 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,076 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 9421080712200112345], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,076 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=9421080712200112345, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@3abcf19a], [''iso20022MsgId'', [B@b8bfffe], [''iso20022OrgMsgId'', [B@6b5287d8]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,076 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>9421080712200112345</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,076 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@1942c04a
2017-11-28 15:49:52,076 TRACE Thread-58 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>9421080712200112345</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>9421080712200112345</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,076 DEBUG Thread-58 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,107 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,107 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@3cfa6099], [''iso20022MsgId'', [B@4b58a8be], [''iso20022OrgMsgId'', [B@d0c590d]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,107 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,107 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@3344cf8f
2017-11-28 15:49:52,107 TRACE Thread-50 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,107 DEBUG Thread-50 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,138 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 01], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,138 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=01, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@48e9955d], [''iso20022MsgId'', [B@5661bd3f], [''iso20022OrgMsgId'', [B@1b67b69f]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,154 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,154 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@68e3bcc9
2017-11-28 15:49:52,154 TRACE Thread-26 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.01</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,154 DEBUG Thread-26 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,169 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 99999999999999], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,169 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=99999999999999, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@2d72b283], [''iso20022MsgId'', [B@7d3fb025], [''iso20022OrgMsgId'', [B@44b431b1]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,185 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">999999999999.99</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,185 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@18f78841
2017-11-28 15:49:52,185 TRACE Thread-54 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">999999999999.99</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">999999999999.99</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,185 DEBUG Thread-54 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,216 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 00000000000009], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,216 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=00000000000009, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@352fff2b], [''iso20022MsgId'', [B@5f69f1d6], [''iso20022OrgMsgId'', [B@432f5ea3]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,216 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.09</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,216 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@2be7e9c9
2017-11-28 15:49:52,216 TRACE Thread-59 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.09</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">0.09</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,232 DEBUG Thread-59 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,263 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', asd], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,263 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=asd, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@58878280], [''iso20022MsgId'', [B@71b29eaa], [''iso20022OrgMsgId'', [B@20675b8a]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,263 ERROR Thread-65 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <For input string: "asd"> for field amountSettlement,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,263 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:52,278 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:52,278 TRACE Thread-65 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:52,278 DEBUG Thread-65 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,325 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 000], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,325 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=000, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@40e2ffec], [''iso20022MsgId'', [B@716be0db], [''iso20022OrgMsgId'', [B@55048641]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,325 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>000</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,325 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@c2cb060
2017-11-28 15:49:52,325 TRACE Thread-25 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>000</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>000</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,341 DEBUG Thread-25 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,388 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 999], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,388 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=999, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@108b78df], [''iso20022MsgId'', [B@140afd0c], [''iso20022OrgMsgId'', [B@240110e5]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,388 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>999</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,388 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@5f43525a
2017-11-28 15:49:52,388 TRACE Thread-47 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>999</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>999</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,388 DEBUG Thread-47 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,434 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 0001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,434 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=0001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@141bd6ef], [''iso20022MsgId'', [B@18546cf7], [''iso20022OrgMsgId'', [B@50daeac]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,434 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>0001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,434 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@17e3b4de
2017-11-28 15:49:52,434 TRACE Thread-40 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>0001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>0001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,466 DEBUG Thread-40 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,466 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 4]]]]
2017-11-28 15:49:52,466 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@217585db], [''iso20022MsgId'', [B@22decb4d], [''iso20022OrgMsgId'', [B@59462857]], agaccno=12345678, actionCode=4021, dateLocalTransaction=4}
2017-11-28 15:49:52,466 ERROR Thread-71 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <Value of canonical format must be of an Instant type, but was class java.lang.String> for field dateLocalTransaction,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,466 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:52,466 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:52,466 TRACE Thread-71 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:52,481 DEBUG Thread-71 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,512 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 123456789]]]]
2017-11-28 15:49:52,512 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@2bf6eba2], [''iso20022MsgId'', [B@1654371f], [''iso20022OrgMsgId'', [B@10278664]], agaccno=12345678, actionCode=4021, dateLocalTransaction=123456789}
2017-11-28 15:49:52,512 ERROR Thread-48 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.api.exception.MessageException: <Value of canonical format must be of an Instant type, but was class java.lang.String> for field dateLocalTransaction,
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:94)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,512 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: null
2017-11-28 15:49:52,512 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: null
2017-11-28 15:49:52,512 TRACE Thread-48 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_error_response', [650, [['logmessage', null], ['rawlog', null], ['format', iso20022]]]]
2017-11-28 15:49:52,528 DEBUG Thread-48 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,544 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 826], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,544 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=826, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@38599012], [''iso20022MsgId'', [B@16cc50e3], [''iso20022OrgMsgId'', [B@302b0c61]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,544 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0012 Log message: <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>
2017-11-28 15:49:52,544 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: com.vocalink.ips.transformation.impl.iso20022.Iso20022ExternalMessage@29b1b286
2017-11-28 15:49:52,544 TRACE Thread-64 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0011 Bert Package Response: ['external_ok_response', [['iso20022', 1], <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>12345678</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>, [['logmessage', <pacs.006.001.01><GrpHdr><MsgId>942120140807122001123456</MsgId><CreDtTm>2017-11-28T15:49:52</CreDtTm><NbOfTxs>1</NbOfTxs></GrpHdr><OrgnlGrpInf><OrgnlMsgId>9420</OrgnlMsgId><OrgnlMsgNmId>9420</OrgnlMsgNmId></OrgnlGrpInf><TxInf><OrgnlTxId>942108071220011234</OrgnlTxId><OrgnlIntrBkSttlmAmt Ccy="GBP">10.00</OrgnlIntrBkSttlmAmt><InstgAgt><FinInstnId><ClrSysMmbId><Prtry>654321</Prtry></ClrSysMmbId></FinInstnId></InstgAgt><CxlRsnInf><CxlRsn><Prtry>4021</Prtry></CxlRsn></CxlRsnInf><OrgnlTxRef><IntrBkSttlmDt>2015-11-10</IntrBkSttlmDt><ReqdExctnDt>2015-11-12</ReqdExctnDt><SttlmInf><SttlmMtd>CLRG</SttlmMtd><ClrSys><Prtry>001</Prtry></ClrSys><InstgRmbrsmntAgt><FinInstnId><PrtryId><Id>021234</Id><Issr>01</Issr></PrtryId></FinInstnId></InstgRmbrsmntAgt><InstdRmbrsmntAgt><FinInstnId><PrtryId><Id>000201</Id><Issr>00</Issr></PrtryId></FinInstnId></InstdRmbrsmntAgt><ThrdRmbrsmntAgt><FinInstnId><ClrSysMmbId><Prtry>123456</Prtry></ClrSysMmbId></FinInstnId></ThrdRmbrsmntAgt><ThrdRmbrsmntAgtAcct><Id><PrtryAcct><Id>********</Id></PrtryAcct></Id></ThrdRmbrsmntAgtAcct></SttlmInf><PmtTpInf><LclInstrm><Prtry>10</Prtry></LclInstrm></PmtTpInf><UltmtDbtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtDbtr><UltmtCdtr><Id><OrgId><PrtryId><Id>20</Id></PrtryId></OrgId></Id></UltmtCdtr></OrgnlTxRef></TxInf></pacs.006.001.01>], ['format', iso20022]]]]
2017-11-28 15:49:52,575 DEBUG Thread-64 com.vocalink.ips.transformer.util.SocketUtils - Socket is closed
java.net.SocketException: Socket is closed
	at java.net.Socket.getOutputStream(Socket.java:943)
	at com.vocalink.ips.transformer.util.SocketUtils.closeSocketWithoutErrors(SocketUtils.java:116)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:73)
	at com.vocalink.ips.transformer.util.SocketUtils.close(SocketUtils.java:49)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:50)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,637 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0010 Bert Package Request: ['translate_to_external', [['ipsmsg', 1], ['iso20022', 1], [['agsortcode', 123456], ['sndfpinst', 654321], ['processingCode', 102020], ['msgid', 942108071220011234], ['amountSettlement', 1000], ['dateSettlement', 2015-11-10], ['rcvmember', 00000201], ['mtid', 9421], ['settcycle', 001], ['currencyCodeAmountSettlement', 444], ['submember', 01021234], ['additionalInfo', [[''iso20022OrgMsgType'', 9420], [''iso20022MsgId'', 942120140807122001123456], [''iso20022OrgMsgId'', 9420]]], ['agaccno', 12345678], ['actionCode', 4021], ['dateLocalTransaction', 2015-11-12T00:00:00Z]]]]
2017-11-28 15:49:52,637 TRACE Thread-36 com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler - GWTR0013 [PROCESS] [TO_EXTERNAL_REQUEST: com.vocalink.ips.transformation.impl.InternalFormat@b98d0fd5 -> ISO_20022_V1]: {agsortcode=123456, sndfpinst=654321, processingCode=102020, msgid=942108071220011234, amountSettlement=1000, dateSettlement=2015-11-10, rcvmember=00000201, mtid=9421, settcycle=001, currencyCodeAmountSettlement=444, submember=01021234, additionalInfo=[[''iso20022OrgMsgType'', [B@25d798a2], [''iso20022MsgId'', [B@7bb8657b], [''iso20022OrgMsgId'', [B@1f3321fc]], agaccno=12345678, actionCode=4021, dateLocalTransaction=2015-11-12T00:00:00Z}
2017-11-28 15:49:52,637 ERROR Thread-36 com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter - Field value is not a valid constant
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field value is not a valid constant
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:480)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut$FlippedMapType.parseString(FieldSchemaOut.java:450)
	at com.vocalink.ips.transformation.v2.schema.AbstractFieldSchema$AbstractType.parse(AbstractFieldSchema.java:161)
	at com.vocalink.ips.transformation.v2.schema.FieldSchemaOut.parseValue(FieldSchemaOut.java:103)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.getParsedValue(DraftToFinalOutMessageConverter.java:121)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.extractField(DraftToFinalOutMessageConverter.java:105)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:76)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.writeResponse(SimpleRequestHandler.java:110)
	at com.vocalink.ips.transformer.handler.SimpleRequestHandler.handleRequest(SimpleRequestHandler.java:41)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.runWithCondition(ThreadPooledRequestHandler.java:165)
	at com.vocalink.ips.transformer.handler.ThreadPooledRequestHandler$ThreadedRequestHandler.run(ThreadPooledRequestHandler.java:145)
	at java.lang.Thread.run(Thread.java:748)
2017-11-28 15:49:52,637 ERROR Thread-36 com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer - Unable to transform a message
com.vocalink.ips.transformation.v2.schema.FieldValidationException: Field [currencyCodeAmountSettlement] failed validation:Field value is not a valid constant
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convertFields(DraftToFinalOutMessageConverter.java:81)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:26)
	at com.vocalink.ips.transformation.impl.canonical.DraftToFinalOutMessageConverter.convert(DraftToFinalOutMessageConverter.java:20)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:83)
	at com.vocalink.ips.transformation.impl.canonical.AbstractIpsMessageToIso20022MessageTransformer.transform(AbstractIpsMessageToIso20022MessageTransformer.java:33)
	at com.vocalink.ips.transformation.api.DefaultTransformationDispatcher.dispatch(DefaultTransformationDispatcher.java:25)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handleExternalRequest(BertPackageHandler.java:109)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.packet.v1.BertPackageHandler.handle(BertPackageHandler.java:81)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.operation.ProcessOperation.execute(ProcessOperation.java:33)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.execute(VersionOneProtocol.java:93)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.VersionOneProtocol.receive(VersionOneProtocol.java:68)
	at com.vocalink.ips.transformer.channel.socket.protocol.v1.PayPortVersionOneProtocol.receive(PayPortVersionOneProtocol.java:43)
	at com.vocalink.ips.transformer.handler.SimpleReq